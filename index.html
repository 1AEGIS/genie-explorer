<!DOCTYPE html>
<html>
<head>
<title>genie-explorer</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<meta charset=utf-8></head>
<style>.br0{border-radius:0}.br1{border-radius:.125rem}.br2{border-radius:.25rem}.br3{border-radius:.5rem}.br4{border-radius:1rem}.br-100{border-radius:100%}.br--right{border-top-left-radius:0;border-bottom-left-radius:0}.br--left{border-top-right-radius:0;border-bottom-right-radius:0}@media screen and (min-width:30em) and (max-width:60em){.br0-m{border-radius:0}.br1-m{border-radius:.125rem}.br2-m{border-radius:.25rem}.br3-m{border-radius:.5rem}.br4-m{border-radius:1rem}.br-100-m{border-radius:100%}.br--right-m{border-top-left-radius:0;border-bottom-left-radius:0}.br--left-m{border-top-right-radius:0;border-bottom-right-radius:0}}@media screen and (min-width:60em){.br0-l{border-radius:0}.br1-l{border-radius:.125rem}.br2-l{border-radius:.25rem}.br3-l{border-radius:.5rem}.br4-l{border-radius:1rem}.br-100-l{border-radius:100%}.br--right-l{border-top-left-radius:0;border-bottom-left-radius:0}.br--left-l{border-top-right-radius:0;border-bottom-right-radius:0}}.ba{border-style:solid;border-width:1px}.bt{border-top-style:solid;border-top-width:1px}.br{border-right-style:solid;border-right-width:1px}.bb{border-bottom-style:solid;border-bottom-width:1px}.bn{border-style:none;border-width:0}@media screen and (min-width:30em) and (max-width:60em){.ba-m{border-style:solid;border-width:1px}.bt-m{border-top-style:solid;border-top-width:1px}.br-m{border-right-style:solid;border-right-width:1px}.bb-m{border-bottom-style:solid;border-bottom-width:1px}.bn-m{border-style:none;border-width:0}}@media screen and (min-width:60em){.ba-l{border-style:solid;border-width:1px}.bt-l{border-top-style:solid;border-top-width:1px}.br-l{border-right-style:solid;border-right-width:1px}.bb-l{border-bottom-style:solid;border-bottom-width:1px}.bn-l{border-style:none;border-width:0}}.shadow-1{box-shadow:0 0 4px 2px rgba(0,0,0,.2)}.shadow-2{box-shadow:0 0 8px 2px rgba(0,0,0,.2)}.shadow-3{box-shadow:2px 2px 4px 2px rgba(0,0,0,.2)}.shadow-4{box-shadow:2px 2px 8px 0 rgba(0,0,0,.2)}.shadow-5{box-shadow:4px 4px 8px 0 rgba(0,0,0,.2)}@media screen and (min-width:30em) and (max-width:60em){.shadow-1-m{box-shadow:0 0 4px 2px rgba(0,0,0,.2)}.shadow-2-m{box-shadow:0 0 8px 2px rgba(0,0,0,.2)}.shadow-3-m{box-shadow:2px 2px 4px 2px rgba(0,0,0,.2)}.shadow-4-m{box-shadow:2px 2px 8px 0 rgba(0,0,0,.2)}.shadow-5-m{box-shadow:4px 4px 8px 0 rgba(0,0,0,.2)}}@media screen and (min-width:60em){.shadow-1-l{box-shadow:0 0 4px 2px rgba(0,0,0,.2)}.shadow-2-l{box-shadow:0 0 8px 2px rgba(0,0,0,.2)}.shadow-3-l{box-shadow:2px 2px 4px 2px rgba(0,0,0,.2)}.shadow-4-l{box-shadow:2px 2px 8px 0 rgba(0,0,0,.2)}.shadow-5-l{box-shadow:4px 4px 8px 0 rgba(0,0,0,.2)}}a,body,code,div,dt,h1,h2,h3,h4,h5,h6,header,html,input[type=email],input[type=number],input[type=password],input[type=tel],input[type=text],input[type=url],li,p,pre,section,textarea,ul{box-sizing:border-box}.flex{display:flex}.flex-auto{flex:1 1 auto;min-width:0;min-height:0}.flex-none{flex:none}.flex-column{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-center{align-content:center}.content-between{align-content:space-between}.content-stretch{align-content:stretch}.flex-grow-0{flex-grow:0}.flex-grow-1{flex-grow:1}@media screen and (min-width:30em) and (max-width:60em){.flex-m{display:flex}.flex-auto-m{flex:1 1 auto;min-width:0;min-height:0}.flex-none-m{flex:none}.flex-column-m{flex-direction:column}.flex-wrap-m{flex-wrap:wrap}.items-start-m{align-items:flex-start}.items-end-m{align-items:flex-end}.items-center-m{align-items:center}.items-stretch-m{align-items:stretch}.self-start-m{align-self:flex-start}.self-end-m{align-self:flex-end}.self-center-m{align-self:center}.self-stretch-m{align-self:stretch}.justify-start-m{justify-content:flex-start}.justify-end-m{justify-content:flex-end}.justify-center-m{justify-content:center}.justify-between-m{justify-content:space-between}.content-start-m{align-content:flex-start}.content-end-m{align-content:flex-end}.content-center-m{align-content:center}.content-between-m{align-content:space-between}.content-stretch-m{align-content:stretch}.flex-grow-0-m{flex-grow:0}.flex-grow-1-m{flex-grow:1}}@media screen and (min-width:60em){.flex-l{display:flex}.flex-auto-l{flex:1 1 auto;min-width:0;min-height:0}.flex-none-l{flex:none}.flex-column-l{flex-direction:column}.flex-wrap-l{flex-wrap:wrap}.items-start-l{align-items:flex-start}.items-end-l{align-items:flex-end}.items-center-l{align-items:center}.items-stretch-l{align-items:stretch}.self-start-l{align-self:flex-start}.self-end-l{align-self:flex-end}.self-center-l{align-self:center}.self-stretch-l{align-self:stretch}.justify-start-l{justify-content:flex-start}.justify-end-l{justify-content:flex-end}.justify-center-l{justify-content:center}.justify-between-l{justify-content:space-between}.content-start-l{align-content:flex-start}.content-end-l{align-content:flex-end}.content-center-l{align-content:center}.content-between-l{align-content:space-between}.content-stretch-l{align-content:stretch}.flex-grow-0-l{flex-grow:0}.flex-grow-1-l{flex-grow:1}}.fl{float:left}.fl,.fr{_display:inline}.fr{float:right}.fn{float:none}@media screen and (min-width:30em) and (max-width:60em){.fl-m{float:left}.fl-m,.fr-m{_display:inline}.fr-m{float:right}.fn-m{float:none}}@media screen and (min-width:60em){.fl-l{float:left}.fl-l,.fr-l{_display:inline}.fr-l{float:right}.fn-l{float:none}}.sans-serif{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif}.serif{font-family:georgia,times,serif}.code,code{font-family:Consolas,monaco,monospace}.times{font-family:times,serif}.b{font-weight:700}@media screen and (min-width:30em) and (max-width:60em){.b-m{font-weight:700}}@media screen and (min-width:60em){.b-l{font-weight:700}}.h1{height:1rem}.h2{height:2rem}.h3{height:4rem}.h4{height:8rem}.h5{height:16rem}.h-25{height:25%}.h-50{height:50%}.h-75{height:75%}.h-100{height:100%}.min-h-100{min-height:100%}.vh-25{height:25vh}.vh-50{height:50vh}.vh-75{height:75vh}.vh-100{height:100vh}.min-vh-100{min-height:100vh}.h-auto{height:auto}@media screen and (min-width:30em) and (max-width:60em){.h1-m{height:1rem}.h2-m{height:2rem}.h3-m{height:4rem}.h4-m{height:8rem}.h5-m{height:16rem}.h-25-m{height:25%}.h-50-m{height:50%}.h-75-m{height:75%}.h-100-m{height:100%}.vh-25-m{height:25vh}.vh-50-m{height:50vh}.vh-75-m{height:75vh}.vh-100-m{height:100vh}.min-vh-100-m{min-height:100vh}.h-auto-m{height:auto}}@media screen and (min-width:60em){.h1-l{height:1rem}.h2-l{height:2rem}.h3-l{height:4rem}.h4-l{height:8rem}.h5-l{height:16rem}.h-25-l{height:25%}.h-50-l{height:50%}.h-75-l{height:75%}.h-100-l{height:100%}.min-h-100-l{min-height:100%}.vh-25-l{height:25vh}.vh-50-l{height:50vh}.vh-75-l{height:75vh}.vh-100-l{height:100vh}.min-vh-100-m{min-height:100vh}.h-auto-l{height:auto}}.grow{-moz-osx-font-smoothing:grayscale;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateZ(0);transition:transform .25s ease-out}.grow:focus,.grow:hover{transform:scale(1.05)}.grow:active{transform:scale(.9)}.pointer:hover{cursor:pointer}.link{text-decoration:none}.link,.link:active,.link:focus,.link:hover,.link:link,.link:visited{transition:color .15s ease-in}.list{list-style-type:none}.overflow-auto{overflow:auto}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}@media screen and (min-width:30em) and (max-width:60em){.overflow-auto-m{overflow:auto}.overflow-x-auto-m{overflow-x:auto}.overflow-y-auto-m{overflow-y:auto}}@media screen and (min-width:60em){.overflow-auto-l{overflow:auto}.overflow-x-auto-l{overflow-x:auto}.overflow-y-auto-l{overflow-y:auto}}:root{--black:#000;--near-black:#111;--dark-gray:#333;--mid-gray:#555;--gray:#777;--silver:#999;--light-silver:#aaa;--moon-gray:#ccc;--light-gray:#eee;--near-white:#f4f4f4;--white:#fff;--transparent:transparent;--black-90:rgba(0,0,0,0.9);--black-80:rgba(0,0,0,0.8);--black-70:rgba(0,0,0,0.7);--black-60:rgba(0,0,0,0.6);--black-50:rgba(0,0,0,0.5);--black-40:rgba(0,0,0,0.4);--black-30:rgba(0,0,0,0.3);--black-20:rgba(0,0,0,0.2);--black-10:rgba(0,0,0,0.1);--black-05:rgba(0,0,0,0.05);--black-025:rgba(0,0,0,0.025);--black-0125:rgba(0,0,0,0.0125);--white-90:hsla(0,0%,100%,0.9);--white-80:hsla(0,0%,100%,0.8);--white-70:hsla(0,0%,100%,0.7);--white-60:hsla(0,0%,100%,0.6);--white-50:hsla(0,0%,100%,0.5);--white-40:hsla(0,0%,100%,0.4);--white-30:hsla(0,0%,100%,0.3);--white-20:hsla(0,0%,100%,0.2);--white-10:hsla(0,0%,100%,0.1);--white-05:hsla(0,0%,100%,0.05);--white-025:hsla(0,0%,100%,0.025);--white-0125:hsla(0,0%,100%,0.0125);--dark-red:#e7040f;--red:#ff4136;--light-red:#ff725c;--orange:#ff6300;--gold:#ffb700;--yellow:gold;--light-yellow:#fbf1a9;--purple:#5e2ca5;--light-purple:#a463f2;--dark-pink:#d5008f;--hot-pink:#ff41b4;--pink:#ff80cc;--light-pink:#ffa3d7;--dark-green:#137752;--green:#19a974;--light-green:#9eebcf;--navy:#001b44;--dark-blue:#00449e;--blue:#357edd;--light-blue:#96ccff;--lightest-blue:#cdecff;--washed-blue:#f6fffe;--washed-green:#e8fdf5;--washed-yellow:#fffceb;--washed-red:#ffdfdf}.black-90{color:rgba(0,0,0,.9);color:var(--black-90)}.black-80{color:rgba(0,0,0,.8);color:var(--black-80)}.black-70{color:rgba(0,0,0,.7);color:var(--black-70)}.black-60{color:rgba(0,0,0,.6);color:var(--black-60)}.black-50{color:rgba(0,0,0,.5);color:var(--black-50)}.black-40{color:rgba(0,0,0,.4);color:var(--black-40)}.black-30{color:rgba(0,0,0,.3);color:var(--black-30)}.black-20{color:rgba(0,0,0,.2);color:var(--black-20)}.black-10{color:rgba(0,0,0,.1);color:var(--black-10)}.black-05{color:rgba(0,0,0,.05);color:var(--black-05)}.white-90{color:hsla(0,0%,100%,.9);color:var(--white-90)}.white-80{color:hsla(0,0%,100%,.8);color:var(--white-80)}.white-70{color:hsla(0,0%,100%,.7);color:var(--white-70)}.white-60{color:hsla(0,0%,100%,.6);color:var(--white-60)}.white-50{color:hsla(0,0%,100%,.5);color:var(--white-50)}.white-40{color:hsla(0,0%,100%,.4);color:var(--white-40)}.white-30{color:hsla(0,0%,100%,.3);color:var(--white-30)}.white-20{color:hsla(0,0%,100%,.2);color:var(--white-20)}.white-10{color:hsla(0,0%,100%,.1);color:var(--white-10)}.black{color:#000;color:var(--black)}.dark-gray{color:#333;color:var(--dark-gray)}.mid-gray{color:#555;color:var(--mid-gray)}.gray{color:#777;color:var(--gray)}.light-gray{color:#eee;color:var(--light-gray)}.white{color:#fff;color:var(--white)}.dark-red{color:#e7040f;color:var(--dark-red)}.red{color:#ff4136;color:var(--red)}.light-red{color:#ff725c;color:var(--light-red)}.gold{color:#ffb700;color:var(--gold)}.yellow{color:gold;color:var(--yellow)}.light-yellow{color:#fbf1a9;color:var(--light-yellow)}.dark-pink{color:#d5008f;color:var(--dark-pink)}.pink{color:#ff80cc;color:var(--pink)}.light-pink{color:#ffa3d7;color:var(--light-pink)}.dark-green{color:#137752;color:var(--dark-green)}.green{color:#19a974;color:var(--green)}.light-green{color:#9eebcf;color:var(--light-green)}.dark-blue{color:#00449e;color:var(--dark-blue)}.blue{color:#357edd;color:var(--blue)}.light-blue{color:#96ccff;color:var(--light-blue)}.bg-black-90{background-color:rgba(0,0,0,.9);background-color:var(--black-90)}.bg-black-80{background-color:rgba(0,0,0,.8);background-color:var(--black-80)}.bg-black-70{background-color:rgba(0,0,0,.7);background-color:var(--black-70)}.bg-black-60{background-color:rgba(0,0,0,.6);background-color:var(--black-60)}.bg-black-50{background-color:rgba(0,0,0,.5);background-color:var(--black-50)}.bg-black-40{background-color:rgba(0,0,0,.4);background-color:var(--black-40)}.bg-black-30{background-color:rgba(0,0,0,.3);background-color:var(--black-30)}.bg-black-20{background-color:rgba(0,0,0,.2);background-color:var(--black-20)}.bg-black-10{background-color:rgba(0,0,0,.1);background-color:var(--black-10)}.bg-black-05{background-color:rgba(0,0,0,.05);background-color:var(--black-05)}.bg-white-90{background-color:hsla(0,0%,100%,.9);background-color:var(--white-90)}.bg-white-80{background-color:hsla(0,0%,100%,.8);background-color:var(--white-80)}.bg-white-70{background-color:hsla(0,0%,100%,.7);background-color:var(--white-70)}.bg-white-60{background-color:hsla(0,0%,100%,.6);background-color:var(--white-60)}.bg-white-50{background-color:hsla(0,0%,100%,.5);background-color:var(--white-50)}.bg-white-40{background-color:hsla(0,0%,100%,.4);background-color:var(--white-40)}.bg-white-30{background-color:hsla(0,0%,100%,.3);background-color:var(--white-30)}.bg-white-20{background-color:hsla(0,0%,100%,.2);background-color:var(--white-20)}.bg-white-10{background-color:hsla(0,0%,100%,.1);background-color:var(--white-10)}.bg-black{background-color:#000;background-color:var(--black)}.bg-dark-gray{background-color:#333;background-color:var(--dark-gray)}.bg-mid-gray{background-color:#555;background-color:var(--mid-gray)}.bg-gray{background-color:#777;background-color:var(--gray)}.bg-light-gray{background-color:#eee;background-color:var(--light-gray)}.bg-white{background-color:#fff;background-color:var(--white)}.bg-dark-red{background-color:#e7040f;background-color:var(--dark-red)}.bg-red{background-color:#ff4136;background-color:var(--red)}.bg-light-red{background-color:#ff725c;background-color:var(--light-red)}.bg-gold{background-color:#ffb700;background-color:var(--gold)}.bg-yellow{background-color:gold;background-color:var(--yellow)}.bg-light-yellow{background-color:#fbf1a9;background-color:var(--light-yellow)}.bg-dark-pink{background-color:#d5008f;background-color:var(--dark-pink)}.bg-pink{background-color:#ff80cc;background-color:var(--pink)}.bg-light-pink{background-color:#ffa3d7;background-color:var(--light-pink)}.bg-dark-green{background-color:#137752;background-color:var(--dark-green)}.bg-green{background-color:#19a974;background-color:var(--green)}.bg-light-green{background-color:#9eebcf;background-color:var(--light-green)}.bg-dark-blue{background-color:#00449e;background-color:var(--dark-blue)}.bg-blue{background-color:#357edd;background-color:var(--blue)}.bg-light-blue{background-color:#96ccff;background-color:var(--light-blue)}:root{--spacing-none:0;--spacing-extra-small:.25rem;--spacing-small:.5rem;--spacing-medium:1rem;--spacing-large:2rem;--spacing-extra-large:4rem;--spacing-extra-extra-large:8rem;--spacing-extra-extra-extra-large:16rem}.pa0{padding:0;padding:var(--spacing-none)}.pa1{padding:.25rem;padding:var(--spacing-extra-small)}.pa2{padding:.5rem;padding:var(--spacing-small)}.pa3{padding:1rem;padding:var(--spacing-medium)}.pa4{padding:2rem;padding:var(--spacing-large)}.pa5{padding:4rem;padding:var(--spacing-extra-large)}.pa6{padding:8rem;padding:var(--spacing-extra-extra-large)}.pa7{padding:16rem;padding:var(--spacing-extra-extra-extra-large)}.pr0{padding-right:0;padding-right:var(--spacing-none)}.pr1{padding-right:.25rem;padding-right:var(--spacing-extra-small)}.pr2{padding-right:.5rem;padding-right:var(--spacing-small)}.pr3{padding-right:1rem;padding-right:var(--spacing-medium)}.pr4{padding-right:2rem;padding-right:var(--spacing-large)}.pr5{padding-right:4rem;padding-right:var(--spacing-extra-large)}.pr6{padding-right:8rem;padding-right:var(--spacing-extra-extra-large)}.pr7{padding-right:16rem;padding-right:var(--spacing-extra-extra-extra-large)}.pb0{padding-bottom:0;padding-bottom:var(--spacing-none)}.pb1{padding-bottom:.25rem;padding-bottom:var(--spacing-extra-small)}.pb2{padding-bottom:.5rem;padding-bottom:var(--spacing-small)}.pb3{padding-bottom:1rem;padding-bottom:var(--spacing-medium)}.pb4{padding-bottom:2rem;padding-bottom:var(--spacing-large)}.pb5{padding-bottom:4rem;padding-bottom:var(--spacing-extra-large)}.pb6{padding-bottom:8rem;padding-bottom:var(--spacing-extra-extra-large)}.pb7{padding-bottom:16rem;padding-bottom:var(--spacing-extra-extra-extra-large)}.pt0{padding-top:0;padding-top:var(--spacing-none)}.pt1{padding-top:.25rem;padding-top:var(--spacing-extra-small)}.pt2{padding-top:.5rem;padding-top:var(--spacing-small)}.pt3{padding-top:1rem;padding-top:var(--spacing-medium)}.pt4{padding-top:2rem;padding-top:var(--spacing-large)}.pt5{padding-top:4rem;padding-top:var(--spacing-extra-large)}.pt6{padding-top:8rem;padding-top:var(--spacing-extra-extra-large)}.pt7{padding-top:16rem;padding-top:var(--spacing-extra-extra-extra-large)}.pv0{padding-top:0;padding-top:var(--spacing-none);padding-bottom:0;padding-bottom:var(--spacing-none)}.pv1{padding-top:.25rem;padding-top:var(--spacing-extra-small);padding-bottom:.25rem;padding-bottom:var(--spacing-extra-small)}.pv2{padding-top:.5rem;padding-top:var(--spacing-small);padding-bottom:.5rem;padding-bottom:var(--spacing-small)}.pv3{padding-top:1rem;padding-top:var(--spacing-medium);padding-bottom:1rem;padding-bottom:var(--spacing-medium)}.pv4{padding-top:2rem;padding-top:var(--spacing-large);padding-bottom:2rem;padding-bottom:var(--spacing-large)}.pv5{padding-top:4rem;padding-top:var(--spacing-extra-large);padding-bottom:4rem;padding-bottom:var(--spacing-extra-large)}.pv6{padding-top:8rem;padding-top:var(--spacing-extra-extra-large);padding-bottom:8rem;padding-bottom:var(--spacing-extra-extra-large)}.pv7{padding-top:16rem;padding-top:var(--spacing-extra-extra-extra-large);padding-bottom:16rem;padding-bottom:var(--spacing-extra-extra-extra-large)}.ph0{padding-left:0;padding-left:var(--spacing-none);padding-right:0;padding-right:var(--spacing-none)}.ph1{padding-left:.25rem;padding-left:var(--spacing-extra-small);padding-right:.25rem;padding-right:var(--spacing-extra-small)}.ph2{padding-left:.5rem;padding-left:var(--spacing-small);padding-right:.5rem;padding-right:var(--spacing-small)}.ph3{padding-left:1rem;padding-left:var(--spacing-medium);padding-right:1rem;padding-right:var(--spacing-medium)}.ph4{padding-left:2rem;padding-left:var(--spacing-large);padding-right:2rem;padding-right:var(--spacing-large)}.ph5{padding-left:4rem;padding-left:var(--spacing-extra-large);padding-right:4rem;padding-right:var(--spacing-extra-large)}.ph6{padding-left:8rem;padding-left:var(--spacing-extra-extra-large);padding-right:8rem;padding-right:var(--spacing-extra-extra-large)}.ph7{padding-left:16rem;padding-left:var(--spacing-extra-extra-extra-large);padding-right:16rem;padding-right:var(--spacing-extra-extra-extra-large)}.ma0{margin:0;margin:var(--spacing-none)}.ma1{margin:.25rem;margin:var(--spacing-extra-small)}.ma2{margin:.5rem;margin:var(--spacing-small)}.ma3{margin:1rem;margin:var(--spacing-medium)}.ma4{margin:2rem;margin:var(--spacing-large)}.ma5{margin:4rem;margin:var(--spacing-extra-large)}.ma6{margin:8rem;margin:var(--spacing-extra-extra-large)}.ma7{margin:16rem;margin:var(--spacing-extra-extra-extra-large)}.mr0{margin-right:0;margin-right:var(--spacing-none)}.mr1{margin-right:.25rem;margin-right:var(--spacing-extra-small)}.mr2{margin-right:.5rem;margin-right:var(--spacing-small)}.mr3{margin-right:1rem;margin-right:var(--spacing-medium)}.mr4{margin-right:2rem;margin-right:var(--spacing-large)}.mr5{margin-right:4rem;margin-right:var(--spacing-extra-large)}.mr6{margin-right:8rem;margin-right:var(--spacing-extra-extra-large)}.mr7{margin-right:16rem;margin-right:var(--spacing-extra-extra-extra-large)}.mb0{margin-bottom:0;margin-bottom:var(--spacing-none)}.mb1{margin-bottom:.25rem;margin-bottom:var(--spacing-extra-small)}.mb2{margin-bottom:.5rem;margin-bottom:var(--spacing-small)}.mb3{margin-bottom:1rem;margin-bottom:var(--spacing-medium)}.mb4{margin-bottom:2rem;margin-bottom:var(--spacing-large)}.mb5{margin-bottom:4rem;margin-bottom:var(--spacing-extra-large)}.mb6{margin-bottom:8rem;margin-bottom:var(--spacing-extra-extra-large)}.mb7{margin-bottom:16rem;margin-bottom:var(--spacing-extra-extra-extra-large)}.mt0{margin-top:0;margin-top:var(--spacing-none)}.mt1{margin-top:.25rem;margin-top:var(--spacing-extra-small)}.mt2{margin-top:.5rem;margin-top:var(--spacing-small)}.mt3{margin-top:1rem;margin-top:var(--spacing-medium)}.mt4{margin-top:2rem;margin-top:var(--spacing-large)}.mt5{margin-top:4rem;margin-top:var(--spacing-extra-large)}.mt6{margin-top:8rem;margin-top:var(--spacing-extra-extra-large)}.mt7{margin-top:16rem;margin-top:var(--spacing-extra-extra-extra-large)}.mv0{margin-top:0;margin-top:var(--spacing-none);margin-bottom:0;margin-bottom:var(--spacing-none)}.mv1{margin-top:.25rem;margin-top:var(--spacing-extra-small);margin-bottom:.25rem;margin-bottom:var(--spacing-extra-small)}.mv2{margin-top:.5rem;margin-top:var(--spacing-small);margin-bottom:.5rem;margin-bottom:var(--spacing-small)}.mv3{margin-top:1rem;margin-top:var(--spacing-medium);margin-bottom:1rem;margin-bottom:var(--spacing-medium)}.mv4{margin-top:2rem;margin-top:var(--spacing-large);margin-bottom:2rem;margin-bottom:var(--spacing-large)}.mv5{margin-top:4rem;margin-top:var(--spacing-extra-large);margin-bottom:4rem;margin-bottom:var(--spacing-extra-large)}.mv6{margin-top:8rem;margin-top:var(--spacing-extra-extra-large);margin-bottom:8rem;margin-bottom:var(--spacing-extra-extra-large)}.mv7{margin-top:16rem;margin-top:var(--spacing-extra-extra-extra-large);margin-bottom:16rem;margin-bottom:var(--spacing-extra-extra-extra-large)}@media screen and (min-width:30em) and (max-width:60em){.pa0-m{padding:0;padding:var(--spacing-none)}.pa1-m{padding:.25rem;padding:var(--spacing-extra-small)}.pa2-m{padding:.5rem;padding:var(--spacing-small)}.pa3-m{padding:1rem;padding:var(--spacing-medium)}.pa4-m{padding:2rem;padding:var(--spacing-large)}.pa5-m{padding:4rem;padding:var(--spacing-extra-large)}.pa6-m{padding:8rem;padding:var(--spacing-extra-extra-large)}.pa7-m{padding:16rem;padding:var(--spacing-extra-extra-extra-large)}.pr0-m{padding-right:0;padding-right:var(--spacing-none)}.pr1-m{padding-right:.25rem;padding-right:var(--spacing-extra-small)}.pr2-m{padding-right:.5rem;padding-right:var(--spacing-small)}.pr3-m{padding-right:1rem;padding-right:var(--spacing-medium)}.pr4-m{padding-right:2rem;padding-right:var(--spacing-large)}.pr5-m{padding-right:4rem;padding-right:var(--spacing-extra-large)}.pr6-m{padding-right:8rem;padding-right:var(--spacing-extra-extra-large)}.pr7-m{padding-right:16rem;padding-right:var(--spacing-extra-extra-extra-large)}.pb0-m{padding-bottom:0;padding-bottom:var(--spacing-none)}.pb1-m{padding-bottom:.25rem;padding-bottom:var(--spacing-extra-small)}.pb2-m{padding-bottom:.5rem;padding-bottom:var(--spacing-small)}.pb3-m{padding-bottom:1rem;padding-bottom:var(--spacing-medium)}.pb4-m{padding-bottom:2rem;padding-bottom:var(--spacing-large)}.pb5-m{padding-bottom:4rem;padding-bottom:var(--spacing-extra-large)}.pb6-m{padding-bottom:8rem;padding-bottom:var(--spacing-extra-extra-large)}.pb7-m{padding-bottom:16rem;padding-bottom:var(--spacing-extra-extra-extra-large)}.pt0-m{padding-top:0;padding-top:var(--spacing-none)}.pt1-m{padding-top:.25rem;padding-top:var(--spacing-extra-small)}.pt2-m{padding-top:.5rem;padding-top:var(--spacing-small)}.pt3-m{padding-top:1rem;padding-top:var(--spacing-medium)}.pt4-m{padding-top:2rem;padding-top:var(--spacing-large)}.pt5-m{padding-top:4rem;padding-top:var(--spacing-extra-large)}.pt6-m{padding-top:8rem;padding-top:var(--spacing-extra-extra-large)}.pt7-m{padding-top:16rem;padding-top:var(--spacing-extra-extra-extra-large)}.pv0-m{padding-top:0;padding-top:var(--spacing-none);padding-bottom:0;padding-bottom:var(--spacing-none)}.pv1-m{padding-top:.25rem;padding-top:var(--spacing-extra-small);padding-bottom:.25rem;padding-bottom:var(--spacing-extra-small)}.pv2-m{padding-top:.5rem;padding-top:var(--spacing-small);padding-bottom:.5rem;padding-bottom:var(--spacing-small)}.pv3-m{padding-top:1rem;padding-top:var(--spacing-medium);padding-bottom:1rem;padding-bottom:var(--spacing-medium)}.pv4-m{padding-top:2rem;padding-top:var(--spacing-large);padding-bottom:2rem;padding-bottom:var(--spacing-large)}.pv5-m{padding-top:4rem;padding-top:var(--spacing-extra-large);padding-bottom:4rem;padding-bottom:var(--spacing-extra-large)}.pv6-m{padding-top:8rem;padding-top:var(--spacing-extra-extra-large);padding-bottom:8rem;padding-bottom:var(--spacing-extra-extra-large)}.pv7-m{padding-top:16rem;padding-top:var(--spacing-extra-extra-extra-large);padding-bottom:16rem;padding-bottom:var(--spacing-extra-extra-extra-large)}.ph0-m{padding-left:0;padding-left:var(--spacing-none);padding-right:0;padding-right:var(--spacing-none)}.ph1-m{padding-left:.25rem;padding-left:var(--spacing-extra-small);padding-right:.25rem;padding-right:var(--spacing-extra-small)}.ph2-m{padding-left:.5rem;padding-left:var(--spacing-small);padding-right:.5rem;padding-right:var(--spacing-small)}.ph3-m{padding-left:1rem;padding-left:var(--spacing-medium);padding-right:1rem;padding-right:var(--spacing-medium)}.ph4-m{padding-left:2rem;padding-left:var(--spacing-large);padding-right:2rem;padding-right:var(--spacing-large)}.ph5-m{padding-left:4rem;padding-left:var(--spacing-extra-large);padding-right:4rem;padding-right:var(--spacing-extra-large)}.ph6-m{padding-left:8rem;padding-left:var(--spacing-extra-extra-large);padding-right:8rem;padding-right:var(--spacing-extra-extra-large)}.ph7-m{padding-left:16rem;padding-left:var(--spacing-extra-extra-extra-large);padding-right:16rem;padding-right:var(--spacing-extra-extra-extra-large)}.ma0-m{margin:0;margin:var(--spacing-none)}.ma1-m{margin:.25rem;margin:var(--spacing-extra-small)}.ma2-m{margin:.5rem;margin:var(--spacing-small)}.ma3-m{margin:1rem;margin:var(--spacing-medium)}.ma4-m{margin:2rem;margin:var(--spacing-large)}.ma5-m{margin:4rem;margin:var(--spacing-extra-large)}.ma6-m{margin:8rem;margin:var(--spacing-extra-extra-large)}.ma7-m{margin:16rem;margin:var(--spacing-extra-extra-extra-large)}.mr0-m{margin-right:0;margin-right:var(--spacing-none)}.mr1-m{margin-right:.25rem;margin-right:var(--spacing-extra-small)}.mr2-m{margin-right:.5rem;margin-right:var(--spacing-small)}.mr3-m{margin-right:1rem;margin-right:var(--spacing-medium)}.mr4-m{margin-right:2rem;margin-right:var(--spacing-large)}.mr5-m{margin-right:4rem;margin-right:var(--spacing-extra-large)}.mr6-m{margin-right:8rem;margin-right:var(--spacing-extra-extra-large)}.mr7-m{margin-right:16rem;margin-right:var(--spacing-extra-extra-extra-large)}.mb0-m{margin-bottom:0;margin-bottom:var(--spacing-none)}.mb1-m{margin-bottom:.25rem;margin-bottom:var(--spacing-extra-small)}.mb2-m{margin-bottom:.5rem;margin-bottom:var(--spacing-small)}.mb3-m{margin-bottom:1rem;margin-bottom:var(--spacing-medium)}.mb4-m{margin-bottom:2rem;margin-bottom:var(--spacing-large)}.mb5-m{margin-bottom:4rem;margin-bottom:var(--spacing-extra-large)}.mb6-m{margin-bottom:8rem;margin-bottom:var(--spacing-extra-extra-large)}.mb7-m{margin-bottom:16rem;margin-bottom:var(--spacing-extra-extra-extra-large)}.mt0-m{margin-top:0;margin-top:var(--spacing-none)}.mt1-m{margin-top:.25rem;margin-top:var(--spacing-extra-small)}.mt2-m{margin-top:.5rem;margin-top:var(--spacing-small)}.mt3-m{margin-top:1rem;margin-top:var(--spacing-medium)}.mt4-m{margin-top:2rem;margin-top:var(--spacing-large)}.mt5-m{margin-top:4rem;margin-top:var(--spacing-extra-large)}.mt6-m{margin-top:8rem;margin-top:var(--spacing-extra-extra-large)}.mt7-m{margin-top:16rem;margin-top:var(--spacing-extra-extra-extra-large)}.mv0-m{margin-top:0;margin-top:var(--spacing-none);margin-bottom:0;margin-bottom:var(--spacing-none)}.mv1-m{margin-top:.25rem;margin-top:var(--spacing-extra-small);margin-bottom:.25rem;margin-bottom:var(--spacing-extra-small)}.mv2-m{margin-top:.5rem;margin-top:var(--spacing-small);margin-bottom:.5rem;margin-bottom:var(--spacing-small)}.mv3-m{margin-top:1rem;margin-top:var(--spacing-medium);margin-bottom:1rem;margin-bottom:var(--spacing-medium)}.mv4-m{margin-top:2rem;margin-top:var(--spacing-large);margin-bottom:2rem;margin-bottom:var(--spacing-large)}.mv5-m{margin-top:4rem;margin-top:var(--spacing-extra-large);margin-bottom:4rem;margin-bottom:var(--spacing-extra-large)}.mv6-m{margin-top:8rem;margin-top:var(--spacing-extra-extra-large);margin-bottom:8rem;margin-bottom:var(--spacing-extra-extra-large)}.mv7-m{margin-top:16rem;margin-top:var(--spacing-extra-extra-extra-large);margin-bottom:16rem;margin-bottom:var(--spacing-extra-extra-extra-large)}}@media screen and (min-width:60em){.pa0-l{padding:0;padding:var(--spacing-none)}.pa1-l{padding:.25rem;padding:var(--spacing-extra-small)}.pa2-l{padding:.5rem;padding:var(--spacing-small)}.pa3-l{padding:1rem;padding:var(--spacing-medium)}.pa4-l{padding:2rem;padding:var(--spacing-large)}.pa5-l{padding:4rem;padding:var(--spacing-extra-large)}.pa6-l{padding:8rem;padding:var(--spacing-extra-extra-large)}.pa7-l{padding:16rem;padding:var(--spacing-extra-extra-extra-large)}.pr0-l{padding-right:0;padding-right:var(--spacing-none)}.pr1-l{padding-right:.25rem;padding-right:var(--spacing-extra-small)}.pr2-l{padding-right:.5rem;padding-right:var(--spacing-small)}.pr3-l{padding-right:1rem;padding-right:var(--spacing-medium)}.pr4-l{padding-right:2rem;padding-right:var(--spacing-large)}.pr5-l{padding-right:4rem;padding-right:var(--spacing-extra-large)}.pr6-l{padding-right:8rem;padding-right:var(--spacing-extra-extra-large)}.pr7-l{padding-right:16rem;padding-right:var(--spacing-extra-extra-extra-large)}.pb0-l{padding-bottom:0;padding-bottom:var(--spacing-none)}.pb1-l{padding-bottom:.25rem;padding-bottom:var(--spacing-extra-small)}.pb2-l{padding-bottom:.5rem;padding-bottom:var(--spacing-small)}.pb3-l{padding-bottom:1rem;padding-bottom:var(--spacing-medium)}.pb4-l{padding-bottom:2rem;padding-bottom:var(--spacing-large)}.pb5-l{padding-bottom:4rem;padding-bottom:var(--spacing-extra-large)}.pb6-l{padding-bottom:8rem;padding-bottom:var(--spacing-extra-extra-large)}.pb7-l{padding-bottom:16rem;padding-bottom:var(--spacing-extra-extra-extra-large)}.pt0-l{padding-top:0;padding-top:var(--spacing-none)}.pt1-l{padding-top:.25rem;padding-top:var(--spacing-extra-small)}.pt2-l{padding-top:.5rem;padding-top:var(--spacing-small)}.pt3-l{padding-top:1rem;padding-top:var(--spacing-medium)}.pt4-l{padding-top:2rem;padding-top:var(--spacing-large)}.pt5-l{padding-top:4rem;padding-top:var(--spacing-extra-large)}.pt6-l{padding-top:8rem;padding-top:var(--spacing-extra-extra-large)}.pt7-l{padding-top:16rem;padding-top:var(--spacing-extra-extra-extra-large)}.pv0-l{padding-top:0;padding-top:var(--spacing-none);padding-bottom:0;padding-bottom:var(--spacing-none)}.pv1-l{padding-top:.25rem;padding-top:var(--spacing-extra-small);padding-bottom:.25rem;padding-bottom:var(--spacing-extra-small)}.pv2-l{padding-top:.5rem;padding-top:var(--spacing-small);padding-bottom:.5rem;padding-bottom:var(--spacing-small)}.pv3-l{padding-top:1rem;padding-top:var(--spacing-medium);padding-bottom:1rem;padding-bottom:var(--spacing-medium)}.pv4-l{padding-top:2rem;padding-top:var(--spacing-large);padding-bottom:2rem;padding-bottom:var(--spacing-large)}.pv5-l{padding-top:4rem;padding-top:var(--spacing-extra-large);padding-bottom:4rem;padding-bottom:var(--spacing-extra-large)}.pv6-l{padding-top:8rem;padding-top:var(--spacing-extra-extra-large);padding-bottom:8rem;padding-bottom:var(--spacing-extra-extra-large)}.pv7-l{padding-top:16rem;padding-top:var(--spacing-extra-extra-extra-large);padding-bottom:16rem;padding-bottom:var(--spacing-extra-extra-extra-large)}.ph0-l{padding-left:0;padding-left:var(--spacing-none);padding-right:0;padding-right:var(--spacing-none)}.ph1-l{padding-left:.25rem;padding-left:var(--spacing-extra-small);padding-right:.25rem;padding-right:var(--spacing-extra-small)}.ph2-l{padding-left:.5rem;padding-left:var(--spacing-small);padding-right:.5rem;padding-right:var(--spacing-small)}.ph3-l{padding-left:1rem;padding-left:var(--spacing-medium);padding-right:1rem;padding-right:var(--spacing-medium)}.ph4-l{padding-left:2rem;padding-left:var(--spacing-large);padding-right:2rem;padding-right:var(--spacing-large)}.ph5-l{padding-left:4rem;padding-left:var(--spacing-extra-large);padding-right:4rem;padding-right:var(--spacing-extra-large)}.ph6-l{padding-left:8rem;padding-left:var(--spacing-extra-extra-large);padding-right:8rem;padding-right:var(--spacing-extra-extra-large)}.ph7-l{padding-left:16rem;padding-left:var(--spacing-extra-extra-extra-large);padding-right:16rem;padding-right:var(--spacing-extra-extra-extra-large)}.ma0-l{margin:0;margin:var(--spacing-none)}.ma1-l{margin:.25rem;margin:var(--spacing-extra-small)}.ma2-l{margin:.5rem;margin:var(--spacing-small)}.ma3-l{margin:1rem;margin:var(--spacing-medium)}.ma4-l{margin:2rem;margin:var(--spacing-large)}.ma5-l{margin:4rem;margin:var(--spacing-extra-large)}.ma6-l{margin:8rem;margin:var(--spacing-extra-extra-large)}.ma7-l{margin:16rem;margin:var(--spacing-extra-extra-extra-large)}.mr0-l{margin-right:0;margin-right:var(--spacing-none)}.mr1-l{margin-right:.25rem;margin-right:var(--spacing-extra-small)}.mr2-l{margin-right:.5rem;margin-right:var(--spacing-small)}.mr3-l{margin-right:1rem;margin-right:var(--spacing-medium)}.mr4-l{margin-right:2rem;margin-right:var(--spacing-large)}.mr5-l{margin-right:4rem;margin-right:var(--spacing-extra-large)}.mr6-l{margin-right:8rem;margin-right:var(--spacing-extra-extra-large)}.mr7-l{margin-right:16rem;margin-right:var(--spacing-extra-extra-extra-large)}.mb0-l{margin-bottom:0;margin-bottom:var(--spacing-none)}.mb1-l{margin-bottom:.25rem;margin-bottom:var(--spacing-extra-small)}.mb2-l{margin-bottom:.5rem;margin-bottom:var(--spacing-small)}.mb3-l{margin-bottom:1rem;margin-bottom:var(--spacing-medium)}.mb4-l{margin-bottom:2rem;margin-bottom:var(--spacing-large)}.mb5-l{margin-bottom:4rem;margin-bottom:var(--spacing-extra-large)}.mb6-l{margin-bottom:8rem;margin-bottom:var(--spacing-extra-extra-large)}.mb7-l{margin-bottom:16rem;margin-bottom:var(--spacing-extra-extra-extra-large)}.mt0-l{margin-top:0;margin-top:var(--spacing-none)}.mt1-l{margin-top:.25rem;margin-top:var(--spacing-extra-small)}.mt2-l{margin-top:.5rem;margin-top:var(--spacing-small)}.mt3-l{margin-top:1rem;margin-top:var(--spacing-medium)}.mt4-l{margin-top:2rem;margin-top:var(--spacing-large)}.mt5-l{margin-top:4rem;margin-top:var(--spacing-extra-large)}.mt6-l{margin-top:8rem;margin-top:var(--spacing-extra-extra-large)}.mt7-l{margin-top:16rem;margin-top:var(--spacing-extra-extra-extra-large)}.mv0-l{margin-top:0;margin-top:var(--spacing-none);margin-bottom:0;margin-bottom:var(--spacing-none)}.mv1-l{margin-top:.25rem;margin-top:var(--spacing-extra-small);margin-bottom:.25rem;margin-bottom:var(--spacing-extra-small)}.mv2-l{margin-top:.5rem;margin-top:var(--spacing-small);margin-bottom:.5rem;margin-bottom:var(--spacing-small)}.mv3-l{margin-top:1rem;margin-top:var(--spacing-medium);margin-bottom:1rem;margin-bottom:var(--spacing-medium)}.mv4-l{margin-top:2rem;margin-top:var(--spacing-large);margin-bottom:2rem;margin-bottom:var(--spacing-large)}.mv5-l{margin-top:4rem;margin-top:var(--spacing-extra-large);margin-bottom:4rem;margin-bottom:var(--spacing-extra-large)}.mv6-l{margin-top:8rem;margin-top:var(--spacing-extra-extra-large);margin-bottom:8rem;margin-bottom:var(--spacing-extra-extra-large)}.mv7-l{margin-top:16rem;margin-top:var(--spacing-extra-extra-extra-large);margin-bottom:16rem;margin-bottom:var(--spacing-extra-extra-extra-large)}}.tl{text-align:left}.tr{text-align:right}.tc{text-align:center}@media screen and (min-width:30em) and (max-width:60em){.tl-m{text-align:left}.tr-m{text-align:right}.tc-m{text-align:center}}@media screen and (min-width:60em){.tl-l{text-align:left}.tr-l{text-align:right}.tc-l{text-align:center}}.w1{width:1rem}.w2{width:2rem}.w3{width:4rem}.w4{width:8rem}.w5{width:16rem}.w-10{width:10%}.w-20{width:20%}.w-25{width:25%}.w-30{width:30%}.w-33{width:33%}.w-34{width:34%}.w-40{width:40%}.w-50{width:50%}.w-60{width:60%}.w-70{width:70%}.w-75{width:75%}.w-80{width:80%}.w-90{width:90%}.w-100{width:100%}.w-auto{width:auto}@media screen and (min-width:30em) and (max-width:60em){.w1-m{width:1rem}.w2-m{width:2rem}.w3-m{width:4rem}.w4-m{width:8rem}.w5-m{width:16rem}.w-10-m{width:10%}.w-20-m{width:20%}.w-25-m{width:25%}.w-30-m{width:30%}.w-33-m{width:33%}.w-34-m{width:34%}.w-40-m{width:40%}.w-50-m{width:50%}.w-60-m{width:60%}.w-70-m{width:70%}.w-75-m{width:75%}.w-80-m{width:80%}.w-90-m{width:90%}.w-100-m{width:100%}.w-auto-m{width:auto}}@media screen and (min-width:60em){.w1-l{width:1rem}.w2-l{width:2rem}.w3-l{width:4rem}.w4-l{width:8rem}.w5-l{width:16rem}.w-10-l{width:10%}.w-20-l{width:20%}.w-25-l{width:25%}.w-30-l{width:30%}.w-33-l{width:33%}.w-34-l{width:34%}.w-40-l{width:40%}.w-50-l{width:50%}.w-60-l{width:60%}.w-70-l{width:70%}.w-75-l{width:75%}.w-80-l{width:80%}.w-90-l{width:90%}.w-100-l{width:100%}.w-auto-l{width:auto}}._a307d94b{background:#333;color:#fff}._a307d94b .section{color:#ffa}._a307d94b .number{color:#d36363}._a307d94b .word{color:#ade5fc}._a307d94b .command,._a307d94b .punctuation{color:#fc9b9b}._a307d94b .attribute{color:#fff}._a307d94b .conditional,._a307d94b .define,._a307d94b .include{color:#fcc28c}._a307d94b .comment{color:#888}._c15e63f3>.file-list,._c15e63f3>.viewer{overflow-y:auto}._0b178eec{background:#333;color:#fff}._0b178eec a,._0b178eec a:visited{color:#fff;text-decoration:underline}.not-found{color:#cf6a6a;text-decoration:underline}</style>
<body></body>
<script>!function(){var e=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}},t=e(function(e,t){(function(t,r){"use strict";var i;e.exports=h,h.ReadableState=d,oe.EventEmitter;var o=function(e,t){return e.listeners(t).length},a=xt.Buffer,s=r.Uint8Array||function(){};Ct.inherits=ie;var u,l=void 0;l=F&&F.debuglog?F.debuglog("stream"):function(){},Ct.inherits(h,Fr);var f=["error","close","destroy","pause","resume"];function d(e,t){e=e||{};var r=t instanceof(i=i||n({}));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Pr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=c({}).StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function h(e){if(i=i||n({}),!(this instanceof h))return new h(e);this._readableState=new d(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Fr.call(this)}function p(e,t,n,r,i){var o,u=e._readableState;return null===t?(u.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,m(e)}}(e,u)):(i||(o=function(e,t){var n,r;return r=t,a.isBuffer(r)||r instanceof s||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),o?e.emit("error",o):u.objectMode||t&&t.length>0?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):g(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?g(e,u,t,!1):v(e,u)):g(e,u,t,!1))):r||(u.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(u)}function g(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&m(e)),v(e,t)}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),h.prototype.destroy=zr.destroy,h.prototype._undestroy=zr.undestroy,h.prototype._destroy=function(e,t){this.push(null),t(e)},h.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),p(this,e,t,!1,n)},h.prototype.unshift=function(e){return p(this,e,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(e){return u||(u=c({}).StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=e,this};var b=8388608;function y(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?ct.nextTick(w,e):w(e))}function w(e){l("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,ct.nextTick(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function S(e){l("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=a.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0==(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,ct.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}h.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):m(this),null;if(0===(e=y(e,t))&&t.ended)return 0===t.length&&T(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=y(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==r&&this.emit("data",r),r},h.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},h.prototype.pipe=function(e,n){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,n);var a=n&&!1===n.end||e===t.stdout||e===t.stderr?b:s;function s(){l("onend"),e.end()}i.endEmitted?ct.nextTick(a):r.once("end",a),e.on("unpipe",function t(n,o){l("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",d),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",u);var f=!1,c=!1;function d(t){l("ondata"),c=!1,!1!==e.write(t)||c||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!f&&(l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function h(t){l("onerror",t),b(),e.removeListener("error",h),0===o(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),b()}function g(){l("onfinish"),e.removeListener("close",p),b()}function b(){l("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?ht(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),i.flowing||(l("pipe resume"),r.resume()),e},h.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},h.prototype.on=function(e,t){var n=Fr.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):ct.nextTick(S,this))}return n},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ct.nextTick(k,e,t))}(this,e)),this},h.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},h.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<f.length;o++)e.on(f[o],this.emit.bind(this,f[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},h._fromList=x}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),n=e(function(e,n){"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f,Ct.inherits=ie;var o=t({}),a=r({});Ct.inherits(f,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var l=s[u];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||ct.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),ct.nextTick(t,e)}}),r=e(function(e,t){(function(t,r,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=p;var a,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?i:ct.nextTick;p.WritableState=h,Ct.inherits=ie;var u,l={deprecate:Ut},f=xt.Buffer,c=r.Uint8Array||function(){};function d(){}function h(e,t){a=a||n({}),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(ct.nextTick(i,r),ct.nextTick(v,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),v(e,t))}(e,n,r,t,i);else{var o=m(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?s(b,e,n,o,i):b(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function p(e){if(a=a||n({}),!(u.call(p,this)||this instanceof a))return new p(e);this._writableState=new h(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Fr.call(this)}function g(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),v(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,g(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,f=n.encoding,c=n.callback;if(g(e,t,!1,t.objectMode?1:l.length,l,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),v(e,t)})}function v(e,t){var n=m(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,ct.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}Ct.inherits(p,Fr),h.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(h.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===p&&e&&e._writableState instanceof h}})):u=function(e){return e instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof c);return a&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=d),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),ct.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ct.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,r,i,o);return u}(this,i,a,e,t,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},p.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},p.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,v(e,t),n&&(t.finished?ct.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),p.prototype.destroy=zr.destroy,p.prototype._undestroy=zr.undestroy,p.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p({}).setImmediate)}),i=e(function(e,t){(function(t,n){"use strict";var r;e.exports=h,h.ReadableState=d,oe.EventEmitter;var i=function(e,t){return e.listeners(t).length},a=xt.Buffer,s=n.Uint8Array||function(){};Ct.inherits=ie;var u,l=void 0;l=F&&F.debuglog?F.debuglog("stream"):function(){},Ct.inherits(h,kr);var f=["error","close","destroy","pause","resume"];function d(e,t){e=e||{};var n=t instanceof(r=r||o({}));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Er,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=c({}).StringDecoder),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function h(e){if(r=r||o({}),!(this instanceof h))return new h(e);this._readableState=new d(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),kr.call(this)}function p(e,t,n,r,i){var o,u=e._readableState;return null===t?(u.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,m(e)}}(e,u)):(i||(o=function(e,t){var n,r;return r=t,a.isBuffer(r)||r instanceof s||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),o?e.emit("error",o):u.objectMode||t&&t.length>0?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):g(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?g(e,u,t,!1):v(e,u)):g(e,u,t,!1))):r||(u.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(u)}function g(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&m(e)),v(e,t)}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),h.prototype.destroy=Ar.destroy,h.prototype._undestroy=Ar.undestroy,h.prototype._destroy=function(e,t){this.push(null),t(e)},h.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),p(this,e,t,!1,n)},h.prototype.unshift=function(e){return p(this,e,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(e){return u||(u=c({}).StringDecoder),this._readableState.decoder=new u(e),this._readableState.encoding=e,this};var b=8388608;function y(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?ct.nextTick(w,e):w(e))}function w(e){l("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,ct.nextTick(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function S(e){l("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=a.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0==(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,ct.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}h.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):m(this),null;if(0===(e=y(e,t))&&t.ended)return 0===t.length&&T(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=y(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==r&&this.emit("data",r),r},h.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},h.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,l("pipe count=%d opts=%j",o.pipesCount,n);var a=n&&!1===n.end||e===t.stdout||e===t.stderr?b:s;function s(){l("onend"),e.end()}o.endEmitted?ct.nextTick(a):r.once("end",a),e.on("unpipe",function t(n,i){l("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",d),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",u);var f=!1,c=!1;function d(t){l("ondata"),c=!1,!1!==e.write(t)||c||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function h(t){l("onerror",t),b(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),b()}function g(){l("onfinish"),e.removeListener("close",p),b()}function b(){l("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?ht(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),o.flowing||(l("pipe resume"),r.resume()),e},h.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},h.prototype.on=function(e,t){var n=kr.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):ct.nextTick(S,this))}return n},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ct.nextTick(k,e,t))}(this,e)),this},h.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},h.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<f.length;o++)e.on(f[o],this.emit.bind(this,f[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},h._fromList=x}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),o=e(function(e,t){"use strict";var n=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f,Ct.inherits=ie;var r=i({}),o=a({});Ct.inherits(f,r);for(var s=n(o.prototype),u=0;u<s.length;u++){var l=s[u];f.prototype[l]||(f.prototype[l]=o.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);r.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||ct.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),ct.nextTick(t,e)}}),a=e(function(e,t){(function(t,n,r){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=p;var a,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:ct.nextTick;p.WritableState=h,Ct.inherits=ie;var u,l={deprecate:Ut},f=xt.Buffer,c=n.Uint8Array||function(){};function d(){}function h(e,t){a=a||o({}),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(ct.nextTick(i,r),ct.nextTick(v,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),v(e,t))}(e,n,r,t,i);else{var o=m(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?s(b,e,n,o,i):b(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function p(e){if(a=a||o({}),!(u.call(p,this)||this instanceof a))return new p(e);this._writableState=new h(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),kr.call(this)}function g(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),v(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,g(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,f=n.encoding,c=n.callback;if(g(e,t,!1,t.objectMode?1:l.length,l,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),v(e,t)})}function v(e,t){var n=m(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,ct.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}Ct.inherits(p,kr),h.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(h.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===p&&e&&e._writableState instanceof h}})):u=function(e){return e instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof c);return a&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=d),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),ct.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ct.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,r,i,o);return u}(this,i,a,e,t,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},p.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},p.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,v(e,t),n&&(t.finished?ct.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),p.prototype.destroy=Ar.destroy,p.prototype._undestroy=Ar.undestroy,p.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p({}).setImmediate)}),s=e(function(e,t){(function(t,n){"use strict";var r;e.exports=h,h.ReadableState=d,oe.EventEmitter;var i=function(e,t){return e.listeners(t).length},o=xt.Buffer,a=n.Uint8Array||function(){};Ct.inherits=ie;var s,l=void 0;l=F&&F.debuglog?F.debuglog("stream"):function(){},Ct.inherits(h,An);var f=["error","close","destroy","pause","resume"];function d(e,t){e=e||{};var n=t instanceof(r=r||u({}));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Ln,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=c({}).StringDecoder),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function h(e){if(r=r||u({}),!(this instanceof h))return new h(e);this._readableState=new d(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),An.call(this)}function p(e,t,n,r,i){var s,u=e._readableState;return null===t?(u.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,m(e)}}(e,u)):(i||(s=function(e,t){var n,r;return r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),s?e.emit("error",s):u.objectMode||t&&t.length>0?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):g(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?g(e,u,t,!1):v(e,u)):g(e,u,t,!1))):r||(u.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(u)}function g(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&m(e)),v(e,t)}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),h.prototype.destroy=jn.destroy,h.prototype._undestroy=jn.undestroy,h.prototype._destroy=function(e,t){this.push(null),t(e)},h.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),p(this,e,t,!1,n)},h.prototype.unshift=function(e){return p(this,e,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(e){return s||(s=c({}).StringDecoder),this._readableState.decoder=new s(e),this._readableState.encoding=e,this};var b=8388608;function y(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?ct.nextTick(w,e):w(e))}function w(e){l("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,ct.nextTick(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(l("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function S(e){l("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(l("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=o.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,s=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,s),0==(e-=s)){s===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,ct.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}h.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):m(this),null;if(0===(e=y(e,t))&&t.ended)return 0===t.length&&T(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=y(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==r&&this.emit("data",r),r},h.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},h.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,l("pipe count=%d opts=%j",o.pipesCount,n);var a=n&&!1===n.end||e===t.stdout||e===t.stderr?b:s;function s(){l("onend"),e.end()}o.endEmitted?ct.nextTick(a):r.once("end",a),e.on("unpipe",function t(n,i){l("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,l("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",d),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||u())});var u=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",u);var f=!1,c=!1;function d(t){l("ondata"),c=!1,!1!==e.write(t)||c||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(l("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function h(t){l("onerror",t),b(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),b()}function g(){l("onfinish"),e.removeListener("close",p),b()}function b(){l("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?ht(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),o.flowing||(l("pipe resume"),r.resume()),e},h.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},h.prototype.on=function(e,t){var n=An.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):ct.nextTick(S,this))}return n},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ct.nextTick(k,e,t))}(this,e)),this},h.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},h.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<f.length;o++)e.on(f[o],this.emit.bind(this,f[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},h._fromList=x}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),u=e(function(e,t){"use strict";var n=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f,Ct.inherits=ie;var r=s({}),i=l({});Ct.inherits(f,r);for(var o=n(i.prototype),a=0;a<o.length;a++){var u=o[a];f.prototype[u]||(f.prototype[u]=i.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);r.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||ct.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),ct.nextTick(t,e)}}),l=e(function(e,t){(function(t,n,r){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=p;var o,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:ct.nextTick;p.WritableState=h,Ct.inherits=ie;var s,l={deprecate:Ut},f=xt.Buffer,c=n.Uint8Array||function(){};function d(){}function h(e,t){o=o||u({}),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(ct.nextTick(i,r),ct.nextTick(v,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),v(e,t))}(e,n,r,t,i);else{var o=m(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?a(b,e,n,o,i):b(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function p(e){if(o=o||u({}),!(s.call(p,this)||this instanceof o))return new p(e);this._writableState=new h(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),An.call(this)}function g(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),v(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,g(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,f=n.encoding,c=n.callback;if(g(e,t,!1,t.objectMode?1:l.length,l,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),v(e,t)})}function v(e,t){var n=m(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,ct.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}Ct.inherits(p,An),h.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(h.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===p&&e&&e._writableState instanceof h}})):s=function(e){return e instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(r=e,f.isBuffer(r)||r instanceof c);return a&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=d),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),ct.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ct.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,r,i,o);return u}(this,i,a,e,t,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},p.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},p.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,v(e,t),n&&(t.finished?ct.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),p.prototype.destroy=jn.destroy,p.prototype._undestroy=jn.undestroy,p.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p({}).setImmediate)}),f=e(function(e,t){(function(t,n){"use strict";var r;e.exports=h,h.ReadableState=f,oe.EventEmitter;var i=function(e,t){return e.listeners(t).length},o=xt.Buffer,a=n.Uint8Array||function(){};Ct.inherits=ie;var s,u=void 0;u=F&&F.debuglog?F.debuglog("stream"):function(){},Ct.inherits(h,pt);var l=["error","close","destroy","pause","resume"];function f(e,t){e=e||{};var n=t instanceof(r=r||d({}));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Bt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=c({}).StringDecoder),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function h(e){if(r=r||d({}),!(this instanceof h))return new h(e);this._readableState=new f(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),pt.call(this)}function p(e,t,n,r,i){var s,u=e._readableState;return null===t?(u.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,m(e)}}(e,u)):(i||(s=function(e,t){var n,r;return r=t,o.isBuffer(r)||r instanceof a||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(u,t)),s?e.emit("error",s):u.objectMode||t&&t.length>0?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),r?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):g(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?g(e,u,t,!1):v(e,u)):g(e,u,t,!1))):r||(u.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(u)}function g(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&m(e)),v(e,t)}Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),h.prototype.destroy=Dt.destroy,h.prototype._undestroy=Dt.undestroy,h.prototype._destroy=function(e,t){this.push(null),t(e)},h.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=o.from(e,t),t=""),n=!0),p(this,e,t,!1,n)},h.prototype.unshift=function(e){return p(this,e,null,!0,!1)},h.prototype.isPaused=function(){return!1===this._readableState.flowing},h.prototype.setEncoding=function(e){return s||(s=c({}).StringDecoder),this._readableState.decoder=new s(e),this._readableState.encoding=e,this};var b=8388608;function y(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=b?e=b:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function m(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?ct.nextTick(w,e):w(e))}function w(e){u("emit readable"),e.emit("readable"),E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,ct.nextTick(_,e,t))}function _(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(u("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function S(e){u("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(u("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=o.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var a=r.data,s=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,s),0==(e-=s)){s===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(s));break}++i}return t.length-=i,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,ct.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}h.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):m(this),null;if(0===(e=y(e,t))&&t.ended)return 0===t.length&&T(this),null;var r,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=y(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&T(this)),null!==r&&this.emit("data",r),r},h.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},h.prototype.pipe=function(e,n){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,u("pipe count=%d opts=%j",o.pipesCount,n);var a=n&&!1===n.end||e===t.stdout||e===t.stderr?b:s;function s(){u("onend"),e.end()}o.endEmitted?ct.nextTick(a):r.once("end",a),e.on("unpipe",function t(n,i){u("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",b),r.removeListener("data",d),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())});var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",l);var f=!1,c=!1;function d(t){u("ondata"),c=!1,!1!==e.write(t)||c||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(u("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,c=!0),r.pause())}function h(t){u("onerror",t),b(),e.removeListener("error",h),0===i(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",g),b()}function g(){u("onfinish"),e.removeListener("close",p),b()}function b(){u("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener("error",n);e._events&&e._events.error?ht(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on("error",n)}(e,0,h),e.once("close",p),e.once("finish",g),e.emit("pipe",r),o.flowing||(u("pipe resume"),r.resume()),e},h.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=L(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},h.prototype.on=function(e,t){var n=pt.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):ct.nextTick(S,this))}return n},h.prototype.addListener=h.prototype.on,h.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,ct.nextTick(k,e,t))}(this,e)),this},h.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this},h.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(u("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){u("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<l.length;o++)e.on(l[o],this.emit.bind(this,l[o]));return this._read=function(t){u("wrapped _read",t),r&&(r=!1,e.resume())},this},h._fromList=x}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}),c=e(function(e,t){"use strict";var n=xt.Buffer,r=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=c,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd".repeat(n+2)}}(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function c(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd".repeat(this.lastTotal-this.lastNeed):t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=o(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=o(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}}),d=e(function(e,t){"use strict";var n=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u,Ct.inherits=ie;var r=f({}),i=h({});Ct.inherits(u,r);for(var o=n(i.prototype),a=0;a<o.length;a++){var s=o[a];u.prototype[s]||(u.prototype[s]=i.prototype[s])}function u(e){if(!(this instanceof u))return new u(e);r.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||ct.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),ct.nextTick(t,e)}}),h=e(function(e,t){(function(t,n,r){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(void 0),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=p;var o,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:ct.nextTick;p.WritableState=h,Ct.inherits=ie;var s,u={deprecate:Ut},l=xt.Buffer,f=n.Uint8Array||function(){};function c(){}function h(e,t){o=o||d({}),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(s||0===s)?s:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(ct.nextTick(i,r),ct.nextTick(v,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),v(e,t))}(e,n,r,t,i);else{var o=m(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?a(b,e,n,o,i):b(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function p(e){if(o=o||d({}),!(s.call(p,this)||this instanceof o))return new p(e);this._writableState=new h(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),pt.call(this)}function g(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),v(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,g(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,f=n.encoding,c=n.callback;if(g(e,t,!1,t.objectMode?1:l.length,l,f,c),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),v(e,t)})}function v(e,t){var n=m(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,ct.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}Ct.inherits(p,pt),h.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(h.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(p,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===p&&e&&e._writableState instanceof h}})):s=function(e){return e instanceof this},p.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},p.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(r=e,l.isBuffer(r)||r instanceof f);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=c),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),ct.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ct.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n)),t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else g(e,t,!1,s,r,i,o);return u}(this,i,a,e,t,n)),o},p.prototype.cork=function(){this._writableState.corked++},p.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},p.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},p.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},p.prototype._writev=null,p.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,v(e,t),n&&(t.finished?ct.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),p.prototype.destroy=Dt.destroy,p.prototype._undestroy=Dt.undestroy,p.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},p({}).setImmediate)}),p=e(function(e,t){(function(e,n){var r=Pt.nextTick,i=(Function.prototype.apply,Array.prototype.slice),o={},a=0;function s(e,t){this._id=e,this._clearFn=t}s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},t.setImmediate="function"==typeof e?e:function(e){var n=a++,s=!(arguments.length<2)&&i.call(arguments,1);return o[n]=!0,r(function(){o[n]&&(s?e.apply(null,s):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof n?n:function(e){delete o[e]}}).call(this,p({}).setImmediate,p({}).clearImmediate)}),g=e(function(e,t){(function(e){"use strict";var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=e,t.SlowBuffer=function(t){return+t!=t&&(t=0),e.alloc(+t)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function i(t){if(t>r)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return Object.setPrototypeOf(n,e.prototype),n}function e(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}return o(e,t,n)}function o(t,n,r){if("string"==typeof t)return function(t,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|f(t,n),o=i(r),a=o.write(t,n);return a!==r&&(o=o.slice(0,a)),o}(t,n);if(ArrayBuffer.isView(t))return u(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(D(t,ArrayBuffer)||t&&D(t.buffer,ArrayBuffer))return function(t,n,r){if(n<0||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),Object.setPrototypeOf(i,e.prototype),i}(t,n,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var o=t.valueOf&&t.valueOf();if(null!=o&&o!==t)return e.from(o,n,r);var a=function(t){if(e.isBuffer(t)){var n=0|l(t.length),r=i(n);return 0===r.length?r:(t.copy(r,0,0,n),r)}return void 0!==t.length?"number"!=typeof t.length||U(t.length)?i(0):u(t):"Buffer"===t.type&&Array.isArray(t.data)?u(t.data):void 0}(t);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return e.from(t[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return a(e),i(e<0?0:0|l(e))}function u(e){for(var t=e.length<0?0:0|l(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(t,n){if(e.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||D(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(t).length;default:if(o)return i?-1:B(t).length;n=(""+n).toLowerCase(),o=!0}}function c(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:h(t,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):h(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function h(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var c=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){c=!1;break}if(c)return o}return-1}function p(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(U(s))return a;e[n+a]=s}return a}function g(e,t,n,r){return I(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return I(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function y(e,t,n,r){return b(e,t,n,r)}function m(e,t,n,r){return I(O(t),e,n,r)}function w(e,t,n,r){return I(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function v(e,t,n){return 0===t&&n===e.length?gt.fromByteArray(e):gt.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],f=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=n)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=c}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.kMaxLength=r,e.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),e.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(e,t,n){return o(e,t,n)},Object.setPrototypeOf(e.prototype,Uint8Array.prototype),Object.setPrototypeOf(e,Uint8Array),e.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},e.allocUnsafe=function(e){return s(e)},e.allocUnsafeSlow=function(e){return s(e)},e.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==e.prototype},e.compare=function(t,n){if(D(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),D(n,Uint8Array)&&(n=e.from(n,n.offset,n.byteLength)),!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var r=t.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var a=t[r];if(D(a,Uint8Array)&&(a=e.from(a)),!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},e.byteLength=f,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)c(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)c(this,t,t+3),c(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)c(this,t,t+7),c(this,t+1,t+6),c(this,t+2,t+5),c(this,t+3,t+4);return this},e.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return v(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(e.prototype[n]=e.prototype.inspect),e.prototype.compare=function(t,n,r,i,o){if(D(t,Uint8Array)&&(t=e.from(t,t.offset,t.byteLength)),!e.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===t)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(r>>>=0)-(n>>>=0),u=Math.min(a,s),l=this.slice(i,o),f=t.slice(n,r),c=0;c<u;++c)if(l[c]!==f[c]){a=l[c],s=f[c];break}return a<s?-1:s<a?1:0},e.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},e.prototype.indexOf=function(e,t,n){return d(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return d(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return p(this,e,t,n);case"utf8":case"utf-8":return g(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return m(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function T(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,n,r,i,o,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),Et.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),Et.write(e,t,n,r,52,8),n+8}e.prototype.slice=function(t,n){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t);var i=this.subarray(t,n);return Object.setPrototypeOf(i,e.prototype),i},e.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),Et.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),Et.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),Et.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),Et.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},e.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},e.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},e.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},e.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},e.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},e.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},e.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},e.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},e.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},e.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(!e.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o=i-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===t&&r<n&&n<i)for(var a=o-1;a>=0;--a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,i),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===t.length){var o=t.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(t=o)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(a=n;a<r;++a)this[a]=t;else{var s=e.isBuffer(t)?t:e.from(t,i),u=s.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%u]}return this};var C=/[^+/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function O(e){return gt.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function I(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}}).call(this,g({}).Buffer)}),b=e(function(e,t){(function(t){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,ke)}),y=e(function(e,t){"use strict";var n=/\n[\s]+$/,r=/^\n[\s]+/,i=/[\s]+$/,o=/^[\s]+/,a=/[\n\s]+/g,s=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"],u=["code","pre","textarea"];e.exports=function e(t,l){if(Array.isArray(l))for(var f,c,d=t.nodeName.toLowerCase(),h=!1,p=0,g=l.length;p<g;p++){var b=l[p];if(Array.isArray(b))e(t,b);else{("number"==typeof b||"boolean"==typeof b||"function"==typeof b||b instanceof Date||b instanceof RegExp)&&(b=b.toString());var y=t.childNodes[t.childNodes.length-1];if("string"==typeof b)h=!0,y&&"#text"===y.nodeName?y.nodeValue+=b:(b=document.createTextNode(b),t.appendChild(b),y=b),p===g-1&&(h=!1,-1===s.indexOf(d)&&-1===u.indexOf(d)?""===(f=y.nodeValue.replace(r,"").replace(i,"").replace(n,"").replace(a," "))?t.removeChild(y):y.nodeValue=f:-1===u.indexOf(d)&&(c=0===p?"":" ",f=y.nodeValue.replace(r,c).replace(o," ").replace(i,"").replace(n,"").replace(a," "),y.nodeValue=f));else if(b&&b.nodeType){h&&(h=!1,-1===s.indexOf(d)&&-1===u.indexOf(d)?""===(f=y.nodeValue.replace(r,"").replace(n," ").replace(a," "))?t.removeChild(y):y.nodeValue=f:-1===u.indexOf(d)&&(f=y.nodeValue.replace(o," ").replace(r,"").replace(n," ").replace(a," "),y.nodeValue=f));var m=b.nodeName;m&&(d=m.toLowerCase()),t.appendChild(b)}}}}}),m=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"],w=m.length;function v(e,t,n){e[n]!==t[n]&&(t[n]=e[n],e[n]?t.setAttribute(n,""):t.removeAttribute(n))}var _=function(e,t){var n=e.nodeType,r=e.nodeName;1===n&&function(e,t){for(var n=t.attributes,r=e.attributes,i=null,o=null,a=null,s=null,u=r.length-1;u>=0;--u)a=(s=r[u]).name,i=s.namespaceURI,o=s.value,i?(a=s.localName||a,t.getAttributeNS(i,a)!==o&&t.setAttributeNS(i,a,o)):t.hasAttribute(a)?t.getAttribute(a)!==o&&("null"===o||"undefined"===o?t.removeAttribute(a):t.setAttribute(a,o)):t.setAttribute(a,o);for(var l=n.length-1;l>=0;--l)!1!==(s=n[l]).specified&&(a=s.name,(i=s.namespaceURI)?(a=s.localName||a,e.hasAttributeNS(i,a)||t.removeAttributeNS(i,a)):e.hasAttributeNS(null,a)||t.removeAttribute(a))}(e,t),3!==n&&8!==n||t.nodeValue!==e.nodeValue&&(t.nodeValue=e.nodeValue),"INPUT"===r?function(e,t){var n=e.value,r=t.value;v(e,t,"checked"),v(e,t,"disabled"),n!==r&&(t.setAttribute("value",n),t.value=n),"null"===n&&(t.value="",t.removeAttribute("value")),e.hasAttributeNS(null,"value")?"range"===t.type&&(t.value=n):t.removeAttribute("value")}(e,t):"OPTION"===r?function(e,t){v(e,t,"selected")}(e,t):"TEXTAREA"===r&&function(e,t){var n=e.value;if(n!==t.value&&(t.value=n),t.firstChild&&t.firstChild.nodeValue!==n){if(""===n&&t.firstChild.nodeValue===t.placeholder)return;t.firstChild.nodeValue=n}}(e,t),function(e,t){for(var n=0;n<w;n++){var r=m[n];e[r]?t[r]=e[r]:t[r]&&(t[r]=void 0)}}(e,t)},S=3;function k(e,t){return e.id?e.id===t.id:e.isSameNode?e.isSameNode(t):e.tagName===t.tagName&&e.type===S&&e.nodeValue===t.nodeValue}var E=function(e,t){return function e(t,n){return n?t?t.isSameNode&&t.isSameNode(n)?n:t.tagName!==n.tagName?t:(_(t,n),function(t,n){for(var r,i,o,a,s=0,u=0;r=n.childNodes[u],i=t.childNodes[u-s],r||i;u++)if(i)if(r)if(k(i,r))(o=e(i,r))!==r&&(n.replaceChild(o,r),s++);else{a=null;for(var l=u;l<n.childNodes.length;l++)if(k(n.childNodes[l],i)){a=n.childNodes[l];break}a?((o=e(i,a))!==a&&s++,n.insertBefore(o,r)):i.id||r.id?(n.insertBefore(i,r),s++):(o=e(i,r))!==r&&(n.replaceChild(o,r),s++)}else n.appendChild(i),s++;else n.removeChild(r),u--}(t,n),n):null:t}(t,e)},x=function(e,t,n){var r,i=e.length;if(!(t>=i||0===n)){var o=i-(n=t+n>i?i-t:n);for(r=t;r<o;++r)e[r]=e[r+n];e.length=o}},T="undefined"!=typeof window;function A(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}A.prototype.push=function(e){this.queue.push(e),this.schedule()},A.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method(function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()})}},A.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var L,M=function(){var e;return T?(window._nanoScheduler||(window._nanoScheduler=new A(!0)),e=window._nanoScheduler):e=new A,e}();R.disabled=!0;try{L=window.performance,R.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!L.mark}catch($a){}function R(e){if(R.disabled)return j;var t=(1e4*L.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var i="end-"+t+"-"+e;L.mark(i),M.push(function(){var o=null;try{var a=e+" ["+t+"]";L.measure(a,n,i),L.clearMarks(n),L.clearMarks(i)}catch($a){o=$a}r&&r(o,e)})}return L.mark(n),r.uuid=t,r}function j(e){e&&M.push(function(){e(new Error("nanotiming: performance API unavailable"))})}var C=R,B={};function O(e){if(!(this instanceof O))return new O(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}B=O,O.prototype.emit=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var i=C(this._name+"('"+e+"')"),o=this._listeners[e];return o&&o.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,i.uuid),i(),this},O.prototype.on=O.prototype.addListener=function(e,t){return"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},O.prototype.prependListener=function(e,t){return"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},O.prototype.once=function(e,t){var n=this;return this.on(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},O.prototype.prependOnceListener=function(e,t){var n=this;return this.prependListener(e,function r(){t.apply(n,arguments),n.removeListener(e,r)}),this},O.prototype.removeListener=function(e,t){return"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(x(e,n,1),!0):void 0}}},O.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},O.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,i=0;i<r;i++)n.push(t[i]);return n},O.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var i=e.length,o=0;o<i;o++){var a=e[o];a.apply(a,n)}}};var I={};function D(e){"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function U(){if(!(this instanceof U))return new U;var e=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",RENDER:"render"},this._hasWindow="undefined"!=typeof window,this._loaded=!1,this._stores=[],this._tree=null,this._viewHandler=null,this.emitter=B("choo.emit"),this.emit=this.emitter.emit.bind(this.emitter);var t={events:this._events};this._hasWindow?(this.state=window.initialState?Object.assign({},window.initialState,t):t,delete window.initialState):this.state=t,this._hasWindow&&(this.state.title=document.title),this.emitter.prependListener(this._events.DOMTITLECHANGE,function(t){e.state.title=t,e._hasWindow&&(document.title=t)})}I=U,U.prototype.view=function(e){this._viewHandler=e},U.prototype.use=function(e){var t=this;this._stores.push(function(){e(t.state,t.emitter,t)})},U.prototype.start=function(){var e=this;function t(){return e._viewHandler(e.state,function(t,n){e.emitter.emit.apply(e.emitter,arguments)})}return this._stores.forEach(function(e){e()}),this._tree=t(),this.emitter.prependListener(e._events.RENDER,function(e,t){t||(t=window.requestAnimationFrame);var n=!1,r=null;return function(){null!==r||n||(n=!0,t(function(){n=!1;for(var t=r.length,i=new Array(t),o=0;o<t;o++)i[o]=r[o];e.apply(e,i),r=null})),r=arguments}}(function(){var n=t();E(e._tree,n)})),D(function(){e.emitter.emit(e._events.DOMCONTENTLOADED),e._loaded=!0}),this._tree},U.prototype.mount=function(e){if("object"!=typeof window)return this.selector=e,this;var t=this;D(function(){var n=t.start();t._tree="string"==typeof e?document.querySelector(e):e,E(t._tree,n)})};var N=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},F={},P={};(function(e){var t,n=void 0!==e?e:"undefined"!=typeof window?window:{};"undefined"!=typeof document?t=document:(t=n["__GLOBAL_DOCUMENT_CACHE@4"])||(t=n["__GLOBAL_DOCUMENT_CACHE@4"]=F),P=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var q={};(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},q=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var W,z=Object.create(null),H="onloadid"+(new Date%9e6).toString(36),$="data-"+H,V=0;if(q&&q.MutationObserver){var G=new MutationObserver(function(e){if(!(Object.keys(z).length<1))for(var t=0;t<e.length;t++)e[t].attributeName!==$?(K(e[t].removedNodes,J),K(e[t].addedNodes,Y)):(n=e[t],r=Y,i=J,o=void 0,o=n.target.getAttribute($),function(e,t){return!(!e||!t)&&z[e][3]===z[t][3]}(n.oldValue,o)?z[o]=z[n.oldValue]:(z[n.oldValue]&&i(n.oldValue,n.target),z[o]&&r(o,n.target)));var n,r,i,o});P.body?Z(G):P.addEventListener("DOMContentLoaded",function(e){Z(G)})}function Z(e){e.observe(P.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[$]})}function Y(e,t){z[e][0]&&0===z[e][2]&&(z[e][0](t),z[e][2]=1)}function J(e,t){z[e][1]&&1===z[e][2]&&(z[e][1](t),z[e][2]=0)}function K(e,t){for(var n=Object.keys(z),r=0;r<e.length;r++){if(e[r]&&e[r].getAttribute&&e[r].getAttribute($)){var i=e[r].getAttribute($);n.forEach(function(n){i===n&&t(n,e[r])})}e[r].childNodes.length>0&&K(e[r].childNodes,t)}}(W=function e(t,n,r,i){return n=n||function(){},r=r||function(){},t.setAttribute($,"o"+V),z["o"+V]=[n,r,0,i||e.caller],V+=1,t}).KEY_ATTR=$;var X,Q=W.KEY_ID=H,ee=W.KEY_ATTR;function te(e){this._hasWindow="undefined"!=typeof window,this._id=null,this._ncID=null,this._olID=null,this._proxy=null,this._loaded=!1,this._rootNodeName=null,this._name=e||"nanocomponent",this._rerender=!1,this._handleLoad=this._handleLoad.bind(this),this._handleUnload=this._handleUnload.bind(this),this._arguments=[];var t=this;Object.defineProperty(this,"element",{get:function(){var e=P.getElementById(t._id);if(e)return e.dataset.nanocomponent===t._ncID?e:void 0}})}X=te,te.prototype.render=function(){for(var e,t=C(this._name+".render"),n=new Array(arguments.length),r=0;r<arguments.length;r++)n[r]=arguments[r];if(this._hasWindow){if(this.element){e=this.element;var i=C(this._name+".update"),o=this._rerender||this.update.apply(this,n);if(i(),this._rerender&&(this._rerender=!1),o){var a=this._handleRender(n),s=C(this._name+".morph");E(e,a),s(),this.afterupdate&&this.afterupdate(e)}return this._proxy||(this._proxy=this._createProxy()),t(),this._proxy}return this._reset(),e=this._handleRender(n),this.beforerender&&this.beforerender(e),(this.load||this.unload||this.afterreorder)&&(W(e,this._handleLoad,this._handleUnload,this._ncID),this._olID=e.dataset[Q]),t(),e}var u=C(this._name+".create");return e=this.createElement.apply(this,n),u(),t(),e},te.prototype.rerender=function(){this._rerender=!0,this.render.apply(this,this._arguments)},te.prototype._handleRender=function(e){var t=C(this._name+".createElement"),n=this.createElement.apply(this,e);return t(),this._rootNodeName||(this._rootNodeName=n.nodeName),this._arguments=e,this._brandNode(this._ensureID(n))},te.prototype._createProxy=function(){var e=P.createElement(this._rootNodeName),t=this;return this._brandNode(e),e.id=this._id,e.setAttribute("data-proxy",""),e.isSameNode=function(e){return e&&e.dataset.nanocomponent===t._ncID},e},te.prototype._reset=function(){this._ncID="ncid-"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),this._olID=null,this._id=null,this._proxy=null,this._rootNodeName=null},te.prototype._brandNode=function(e){return e.setAttribute("data-nanocomponent",this._ncID),this._olID&&e.setAttribute(ee,this._olID),e},te.prototype._ensureID=function(e){return e.id?this._id=e.id:e.id=this._id=this._ncID,this._proxy&&this._proxy.id!==this._id&&(this._proxy.id=this._id),e},te.prototype._handleLoad=function(e){this._loaded?this.afterreorder&&this.afterreorder(e):(this._loaded=!0,this.load&&this.load(e))},te.prototype._handleUnload=function(e){this.element||(this._loaded=!1,this.unload&&this.unload(e))},te.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")},te.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")};const ne=new class extends X{createElement(e){return this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=240,this.canvas.height=240,this.context=this.canvas.getContext("2d"),this.update(e)),this.canvas}update(e){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);const t=240/Math.ceil(Math.sqrt(e.length));let n=0,r=0;e.forEach(e=>{n>=240&&(r+=t,n=0),this.context.fillStyle=`rgb(${e[0]}, ${e[1]}, ${e[2]})`,this.context.fillRect(n,r,t,t),n+=t})}};var re=function(e,t){const n=e.fileData;return function(){var e=y({}),t=document.createElement("div");t.setAttribute("class","pa2");var n=document.createElement("button");n.onclick=arguments[0],e(n,["Use this palette"]);var r=document.createElement("div");r.setAttribute("class","flex justify-between");var i=document.createElement("code"),o=document.createElement("pre");e(o,[arguments[1]]),e(i,[o]);var a=document.createElement("div");return a.setAttribute("style","justify-self: flex-end"),e(a,["\n          ",arguments[2],"\n        "]),e(r,["\n        ",i,"\n        ",a,"\n      "]),e(t,["\n      ",n,"\n      ",r,"\n    "]),t}(function(){t("usePalette",n)},e.fileBuffer.toString("ascii"),ne.render(n))},ie={};ie="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var oe={},ae=Object.create||function(e){var t=function(){};return t.prototype=e,new t},se=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},ue=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function le(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=ae(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}oe=le,le.EventEmitter=le,le.prototype._events=void 0,le.prototype._maxListeners=void 0;var fe,ce=10;try{var de={};Object.defineProperty&&Object.defineProperty(de,"x",{value:0}),fe=0===de.x}catch(Va){fe=!1}function he(e){return void 0===e._maxListeners?le.defaultMaxListeners:e._maxListeners}function pe(e,t,n,r){var i,o,a;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=ae(null),e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=he(e))&&i>0&&a.length>i){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",s.name,s.message)}}else a=o[t]=n,++e._eventsCount;return e}function ge(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function be(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=ue.call(ge,r);return i.listener=n,r.wrapFn=i,i}function ye(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):we(i,i.length):[]}function me(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function we(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}fe?Object.defineProperty(le,"defaultMaxListeners",{enumerable:!0,get:function(){return ce},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');ce=e}}):le.defaultMaxListeners=ce,le.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},le.prototype.getMaxListeners=function(){return he(this)},le.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var u=new Error('Unhandled "error" event. ('+t+")");throw u.context=t,u}if(!(n=a[e]))return!1;var l="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=we(e,r),o=0;o<r;++o)i[o].call(n)}(n,l,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=we(e,i),a=0;a<i;++a)o[a].call(n,r)}(n,l,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=we(e,o),s=0;s<o;++s)a[s].call(n,r,i)}(n,l,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=we(e,a),u=0;u<a;++u)s[u].call(n,r,i,o)}(n,l,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=we(e,i),a=0;a<i;++a)o[a].apply(n,r)}(n,l,this,i)}return!0},le.prototype.addListener=function(e,t){return pe(this,e,t,!1)},le.prototype.on=le.prototype.addListener,le.prototype.prependListener=function(e,t){return pe(this,e,t,!0)},le.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,be(this,e,t)),this},le.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,be(this,e,t)),this},le.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=ae(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(var n=i,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}(n),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},le.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=ae(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=ae(null):delete n[e]),this;if(0===arguments.length){var i,o=se(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=ae(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},le.prototype.listeners=function(e){return ye(this,e,!0)},le.prototype.rawListeners=function(e){return ye(this,e,!1)},le.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):me.call(e,t)},le.prototype.listenerCount=me,le.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var ve={};(function(e){ve=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _e,Se,ke={},Ee=ke={};function xe(){throw new Error("setTimeout has not been defined")}function Te(){throw new Error("clearTimeout has not been defined")}function Ae(e){if(_e===setTimeout)return setTimeout(e,0);if((_e===xe||!_e)&&setTimeout)return _e=setTimeout,setTimeout(e,0);try{return _e(e,0)}catch($a){try{return _e.call(null,e,0)}catch($a){return _e.call(this,e,0)}}}!function(){try{_e="function"==typeof setTimeout?setTimeout:xe}catch($a){_e=xe}try{Se="function"==typeof clearTimeout?clearTimeout:Te}catch($a){Se=Te}}();var Le,Me=[],Re=!1,je=-1;function Ce(){Re&&Le&&(Re=!1,Le.length?Me=Le.concat(Me):je=-1,Me.length&&Be())}function Be(){if(!Re){var e=Ae(Ce);Re=!0;for(var t=Me.length;t;){for(Le=Me,Me=[];++je<t;)Le&&Le[je].run();je=-1,t=Me.length}Le=null,Re=!1,function(e){if(Se===clearTimeout)return clearTimeout(e);if((Se===Te||!Se)&&clearTimeout)return Se=clearTimeout,clearTimeout(e);try{Se(e)}catch($a){try{return Se.call(null,e)}catch($a){return Se.call(this,e)}}}(e)}}function Oe(e,t){this.fun=e,this.array=t}function Ie(){}Ee.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Me.push(new Oe(e,t)),1!==Me.length||Re||Ae(Be)},Oe.prototype.run=function(){this.fun.apply(null,this.array)},Ee.title="browser",Ee.browser=!0,Ee.env={},Ee.argv=[],Ee.version="",Ee.versions={},Ee.on=Ie,Ee.addListener=Ie,Ee.once=Ie,Ee.off=Ie,Ee.removeListener=Ie,Ee.removeAllListeners=Ie,Ee.emit=Ie,Ee.prependListener=Ie,Ee.prependOnceListener=Ie,Ee.listeners=function(e){return[]},Ee.binding=function(e){throw new Error("process.binding is not supported")},Ee.cwd=function(){return"/"},Ee.chdir=function(e){throw new Error("process.chdir is not supported")},Ee.umask=function(){return 0};var De={};(function(e){for(var t=b({}),n="undefined"==typeof window?e:window,r=["moz","webkit"],i="AnimationFrame",o=n["request"+i],a=n["cancel"+i]||n["cancelRequest"+i],s=0;!o&&s<r.length;s++)o=n[r[s]+"Request"+i],a=n[r[s]+"Cancel"+i]||n[r[s]+"CancelRequest"+i];if(!o||!a){var u=0,l=0,f=[];o=function(e){if(0===f.length){var n=t(),r=Math.max(0,1e3/60-(n-u));u=r+n,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch($a){setTimeout(function(){throw $a},0)}},Math.round(r))}return f.push({handle:++l,callback:e,cancelled:!1}),l},a=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}(De=function(e){return o.call(n,e)}).cancel=function(){a.apply(n,arguments)},De.polyfill=function(e){e||(e=n),e.requestAnimationFrame=o,e.cancelAnimationFrame=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ue={},Ne=oe.EventEmitter;function Fe(e){if(!(this instanceof Fe))return new Fe(e);this.running=!1,this.last=ve(),this._frame=0,this._tick=this.tick.bind(this),e&&this.on("tick",e)}Ue=Fe,ie(Fe,Ne),Fe.prototype.start=function(){if(!this.running)return this.running=!0,this.last=ve(),this._frame=De(this._tick),this},Fe.prototype.stop=function(){return this.running=!1,0!==this._frame&&De.cancel(this._frame),this._frame=0,this},Fe.prototype.tick=function(){this._frame=De(this._tick);var e=ve(),t=e-this.last;this.emit("tick",t),this.last=e};const Pe=new class extends X{createElement(e){return this.audioContext=new AudioContext,this.canvas=document.createElement("canvas"),this.canvas.width=e.width||400,this.canvas.height=e.height||240,this.context=this.canvas.getContext("2d"),this.update(e),this.canvas}update({audio:e,color:t,width:n,height:r}){if(this.color=t,null==n&&(n=400),null==r&&(r=240),n!==this.canvas.width&&(this.canvas.width=n),r!==this.canvas.height&&(this.canvas.height=r),e!==this.audio){this.loop&&this.loop.stop();const{canvas:t,context:n}=this;this.audio=e;const r=this.audioContext.createAnalyser();r.fftSize=256;const i=this.audioContext.createMediaElementSource(e);i.connect(r),i.connect(this.audioContext.destination),this.loop=Ue(()=>{const e=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(e),n.clearRect(0,0,t.width,t.height),n.fillStyle=this.color||"hotpink";const i=Math.floor(t.width/(e.length+1));for(let r=0;r<e.length;r++){const o=t.height/255*e[r];n.fillRect((i+1)*r,t.height-o-2,i,o+2)}}),this.loop.start()}return!1}unload(){this.loop&&this.loop.stop()}};var qe=function(e,t){return e.fileData.controls=!0,e.fileData.className="w-100",function(){var e=y({}),t=document.createElement("div");t.setAttribute("class","flex items-center justify-center h-100");var n=document.createElement("div");n.setAttribute("class","bg-white shadow-2 pa2");var r=document.createElement("div");e(r,["\n          ",arguments[0],"\n        "]);var i=document.createElement("div");return e(i,["\n          ",arguments[1],"\n        "]),e(n,["\n        ",r,"\n        ",i,"\n      "]),e(t,["\n      ",n,"\n    "]),t}(Pe.render({audio:e.fileData}),e.fileData)},We=function(e,t){return function(){var e=y({}),t=document.createElement("div");t.setAttribute("class","flex align-center justify-center");var n=document.createElement("img");return n.setAttribute("src",arguments[0]),n.setAttribute("alt",""),e(t,["\n      ",n,"\n    "]),t}(e.fileData)},ze={exports:{}};(function(e){var t=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof i?new i(e.type,r.util.encode(e.content),e.alias):Array.isArray(e)?e.map(r.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var i,o,a=r.util.type(t);switch(n=n||{},a){case"Object":if(o=r.util.objId(t),n[o])return n[o];for(var s in i={},n[o]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return o=r.util.objId(t),n[o]?n[o]:(i=[],n[o]=i,t.forEach(function(t,r){i[r]=e(t,n)}),i);default:return t}}},languages:{extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){var o=(i=i||r.languages)[e],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u]);n.hasOwnProperty(s)||(a[s]=o[s])}var l=i[e];return i[e]=a,r.languages.DFS(r.languages,function(t,n){n===l&&t!=e&&(this[t]=a)}),a},DFS:function e(t,n,i,o){o=o||{};var a=r.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],i||s);var u=t[s],l=r.util.type(u);"Object"!==l||o[a(u)]?"Array"!==l||o[a(u)]||(o[a(u)]=!0,e(u,n,s,o)):(o[a(u)]=!0,e(u,n,null,o))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",i);for(var o,a=e.querySelectorAll(i.selector),s=0;o=a[s++];)r.highlightElement(o,!0===t,i.callback)},highlightElement:function(n,i,o){for(var a,s="none",u=n;u&&!t.test(u.className);)u=u.parentNode;u&&(s=(u.className.match(t)||[,"none"])[1].toLowerCase(),a=r.languages[s]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+s,n.parentNode&&(u=n.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(t,"").replace(/\s+/g," ")+" language-"+s));var l={element:n,language:s,grammar:a,code:n.textContent},f=function(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)};if(r.hooks.run("before-sanity-check",l),l.code)if(r.hooks.run("before-highlight",l),l.grammar)if(i&&e.Worker){var c=new Worker(r.filename);c.onmessage=function(e){f(e.data)},c.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else f(r.highlight(l.code,l.grammar,l.language));else f(r.util.encode(l.code));else r.hooks.run("complete",l)},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};return r.hooks.run("before-tokenize",o),o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),i.stringify(r.util.encode(o.tokens),o.language)},matchGrammar:function(e,t,n,o,a,s,u){for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==u)return;var f=n[l];f="Array"===r.util.type(f)?f:[f];for(var c=0;c<f.length;++c){var d=f[c],h=d.inside,p=!!d.lookbehind,g=!!d.greedy,b=0,y=d.alias;if(g&&!d.pattern.global){var m=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,m+"g")}d=d.pattern||d;for(var w=o,v=a;w<t.length;v+=t[w].length,++w){var _=t[w];if(t.length>e.length)return;if(!(_ instanceof i)){if(g&&w!=t.length-1){if(d.lastIndex=v,!(A=d.exec(e)))break;for(var S=A.index+(p?A[1].length:0),k=A.index+A[0].length,E=w,x=v,T=t.length;E<T&&(x<k||!t[E].type&&!t[E-1].greedy);++E)S>=(x+=t[E].length)&&(++w,v=x);if(t[w]instanceof i)continue;L=E-w,_=e.slice(v,x),A.index-=v}else{d.lastIndex=0;var A=d.exec(_),L=1}if(A){p&&(b=A[1]?A[1].length:0),k=(S=A.index+b)+(A=A[0].slice(b)).length;var M=_.slice(0,S),R=_.slice(k),j=[w,L];M&&(++w,v+=M.length,j.push(M));var C=new i(l,h?r.tokenize(A,h):A,y,A,g);if(j.push(C),R&&j.push(R),Array.prototype.splice.apply(t,j),1!=L&&r.matchGrammar(e,t,n,w,v,!0,l),s)break}else if(s)break}}}}},tokenize:function(e,t){var n=[e],i=t.rest;if(i){for(var o in i)t[o]=i[o];delete t.rest}return r.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}},Token:i};function i(e,t,n,r,i){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length,this.greedy=!!i}if(e.Prism=r,i.stringify=function(e,t){if("string"==typeof e)return e;if(Array.isArray(e))return e.map(function(e){return i.stringify(e,t)}).join("");var n={type:e.type,content:i.stringify(e.content,t),tag:"span",classes:["token",e.type],attributes:{},language:t};if(e.alias){var o=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(n.classes,o)}r.hooks.run("wrap",n);var a=Object.keys(n.attributes).map(function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(a?" "+a:"")+">"+n.content+"</"+n.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),i=n.language,o=n.code,a=n.immediateClose;e.postMessage(r.highlight(o,r.languages[i],i)),a&&e.close()},!1),r):r;var o=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return o&&(r.filename=o.src,r.manual||o.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});ze.exports&&(ze.exports=t),void 0!==e&&(e.Prism=t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),ze=ze.exports;var He=[],$e=[],Ve="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function Ge(e,t){if(t=t||{},void 0===e)throw new Error(Ve);var n,r=!0===t.prepend?"prepend":"append",i=void 0!==t.container?t.container:document.querySelector("head"),o=He.indexOf(i);return-1===o&&(o=He.push(i)-1,$e[o]={}),void 0!==$e[o]&&void 0!==$e[o][r]?n=$e[o][r]:(n=$e[o][r]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===r?i.insertBefore(n,i.childNodes[0]):i.appendChild(n)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),n.styleSheet?n.styleSheet.cssText+=e:n.textContent+=e,n}Ge.insertCss=Ge;ze.languages.rms={comment:/\/\*[\s\S]*?\*\//,punctuation:/[{}]/,number:{pattern:/(\s+)[+-]?\d+\b/,lookbehind:!0},section:/<[A-Z_]+>/,conditional:/\b(start_random|percent_chance|end_random|if|elseif|else|endif)\b/,define:/#(?:const|define)\b/,include:/#include(?:_drs)?\b/,command:/\b(create_(terrain|object|land|player_lands|elevation|connect_(all_lands|team_lands|player_lands|all_players_land|same_land_zones)))\b/,attribute:/\b[a-z_]+\b/,word:/\S+/},ze.languages.ai={comment:/;.*/,string:/"(?:[^"\\\r\n]|\\.)*?"|'[^('\s]*/,conditional:/#(load-if-(not-)?defined|else|end-if)\b/,command:{pattern:/(\()(?:def(rule|const)|load(-random)?)/,lookbehind:!0},number:/[-+]?\d+\b/,operator:{pattern:/(\()(?:[-+*%/]|[<>]=?|=>?)/,lookbehind:!0},word:{pattern:/(\()[^\s()]*(?=\s)/,lookbehind:!0},punctuation:/[()]/};function Ze(e){return e&&"object"==typeof ze.languages[e]}function Ye(e,t){return ze.highlight(t,ze.languages[e],e)}const Je=new class extends X{createElement({source:e,language:t}){return this.source=e,this.code=document.createElement("code"),Ze(t)?this.code.innerHTML=Ye(t,e):this.code.textContent=e,function(){var e=y({}),t=document.createElement("pre");return t.setAttribute("class",arguments[0]+" pa2 ma0"),e(t,[arguments[1]]),t}("_a307d94b",this.code)}update({source:e,language:t}){return e!==this.source&&(Ze(t)?this.code.innerHTML=Ye(t,e):this.code.textContent=e),!1}};var Ke=function(e,t){return function(){var e=y({}),t=document.createElement("div");return e(t,["\n      ",arguments[0],"\n    "]),t}(Je.render({source:e.fileBuffer.toString("utf8"),language:e.fileType}))};function Xe(e,t,n,r){return e.getFile(n)?function(){var e=y({}),t=document.createElement("a");return t.setAttribute("href","#"+arguments[0]+"/"+arguments[1]),t.setAttribute("title","Jump to "+arguments[2]+" file"),e(t,[arguments[3]]),t}(t,n,t,r):function(){var e=y({}),t=document.createElement("span");return t.setAttribute("title","This "+arguments[0]+" file is not in this DRS archive."),t.setAttribute("class","not-found"),e(t,[arguments[1]]),t}(t,r)}var Qe=function(e,t){return function(){var e=y({}),t=document.createElement("pre");return t.setAttribute("class",arguments[0]+" pa2 ma0"),e(t,[arguments[1]]),t}("_0b178eec",function(e,t){return function(){var e=y({}),t=document.createElement("code");return e(t,[arguments[0]]),t}(t.split("\n").map(function(t){return function(){var e=y({}),t=document.createElement("span"),n=document.createElement("br");return e(t,[arguments[0],n]),t}(t.split(/([\s\r]+)/).map((t,n,r)=>{if(n%2!=0)return document.createTextNode(t);if(0===n)return function(){var e=y({}),t=document.createElement("strong");return e(t,[arguments[0]]),t}(t);if("-1"!==t){if(/background\d_file/.test(r[0])&&(6===n||8===n))return Xe(e,"slp",parseInt(t,10),t);if(/palette_file|popup_dialog_sin/.test(r[0])&&4===n)return Xe(e,"bina",parseInt(t,10),t);if(/button_file/.test(r[0])&&4===n)return Xe(e,"slp",parseInt(t,10),t)}return document.createTextNode(t)}))}))}(e.drs,e.fileBuffer.toString()))};const et=new class extends X{createElement(e){const t=document.createElement("canvas");return this.canvas=t,this.context=t.getContext("2d"),this.update(e),t}update({slp:e,frameId:t,palette:n,player:r}){const i=e.getFrame(t);if(i!==this.frame||n!==this.palette||r!==this.player){const o=e.renderFrame(t,n,{player:r});this.canvas.width=o.width,this.canvas.height=o.height,this.context.putImageData(o,0,0),this.frame=i,this.palette=n,this.player=r}return!1}};var tt=function(e,t){const n=e.fileData,r=n.frames,i=e.currentSlpFrame;return function(){var e=y({}),t=document.createElement("div"),n=document.createElement("table");n.setAttribute("class","bg-light-gray w-100 ph2");var r=document.createElement("tbody"),i=document.createElement("tr"),o=document.createElement("th");o.setAttribute("class","tl w4"),e(o,["Player:"]);var a=document.createElement("td");e(a,["\n              ",arguments[0],"\n            "]),e(i,["\n            ",o,"\n            ",a,"\n          "]);var s=document.createElement("tr"),u=document.createElement("th");u.setAttribute("class","tl w4"),e(u,["Frame:"]);var l=document.createElement("td");e(l,["\n              ",arguments[1],"\n            "]),e(s,["\n            ",u,"\n            ",l,"\n          "]),e(r,["\n          ",i,"\n          ",s,"\n        "]),e(n,["\n        ",r,"\n      "]);var f=document.createElement("div");f.setAttribute("class","flex justify-start items-start");var c=document.createElement("div");return c.setAttribute("class","bg-white pa3 ma2 shadow-2"),e(c,["\n          ",arguments[2],"\n        "]),e(f,["\n        ",c,"\n      "]),e(t,["\n      ",n,"\n      ",f,"\n    "]),t}(function({current:e,onchange:t}){const n=[];for(let r=1;r<=8;r++)n.push(function(){var e=y({}),t=document.createElement("option");return arguments[0]&&t.setAttribute("selected","selected"),e(t,[arguments[1]]),t}(e===r,r));return function(){var e=y({}),t=document.createElement("select");return t.onchange=arguments[0],e(t,["\n      ",arguments[1],"\n    "]),t}(function(e){t(e.target.selectedIndex+1)},n)}({current:e.slpPlayer,onchange:function(e){t("slpPlayer",e)}}),function({current:e,frames:t,onchange:n}){const r=[];for(let i=0;i<t.length;i++)r.push(function(){var e=y({}),t=document.createElement("option");return arguments[0]&&t.setAttribute("selected","selected"),e(t,["#",arguments[1]]),t}(e===i,i));return function(){var e=y({}),t=document.createElement("div");t.setAttribute("class","mv0 flex content-start items-center");var n=document.createElement("select");n.onchange=arguments[0],n.setAttribute("class","mr2"),e(n,["\n        ",arguments[1],"\n      "]);var r=document.createElement("span");e(r,["#0"]);var i=document.createElement("input");i.setAttribute("type","range"),i.setAttribute("min","0"),i.setAttribute("max",arguments[2]),i.setAttribute("value",arguments[3]),i.setAttribute("style","flex-grow: 2"),i.oninput=arguments[4];var o=document.createElement("span");return e(o,["#",arguments[5]]),e(t,["\n      ",n,"\n      ",r,"\n      ",i,"\n      ",o,"\n    "]),t}(function(e){n(e.target.selectedIndex)},r,t.length-1,e,function(e){n(parseInt(e.target.value,10))},t.length-1)}({current:i,frames:r,onchange:function(e){t("slpFrame",e)}}),et.render({slp:n,frameId:i,palette:e.palette,player:e.slpPlayer}))},nt={66:"#ffc700",102:"#919191",264:"#714b33",265:"#714b33",266:"#714b33",267:"#714b33",268:"#714b33",269:"#714b33",270:"#714b33",271:"#714b33",272:"#714b33",273:"#714b33",285:"#ffffff",833:"#a5c46c",594:"#a5c46c",65:"#a5c46c",48:"#a5c46c",822:"#a5c46c",59:"#a5c46c"};const rt={1:"#0000ff",2:"#ff0000",3:"#00ff00",4:"#ffff00",5:"#00ffff",6:"#ff00ff",7:"#434343",8:"#ff8201"},it=["#339727","#305db6","#e8b478","#e4a252","#5492b0","#339727","#e4a252","#82884d","#82884d","#339727","#157615","#e4a252","#339727","#157615","#e8b478","#305db6","#339727","#157615","#157615","#157615","#157615","#157615","#004aa1","#004abb","#e4a252","#e4a252","#ffec49","#e4a252","#305db6","#82884d","#82884d","#82884d","#c8d8ff","#c8d8ff","#c8d8ff","#98c0f0","#c8d8ff","#98c0f0","#c8d8ff","#c8d8ff","#e4a252"];const ot=new class extends X{createElement(e){return this.canvas=document.createElement("canvas"),this.canvas.width=400,this.canvas.height=200,this.update(e),this.canvas}update({map:e,objects:t}){const n=this.getImageData(e,t),r=document.createElement("canvas");r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(n,0,0);const i=this.canvas.getContext("2d");return i.save(),i.scale(1,.5),i.translate(this.canvas.width/2,0),i.rotate(45*Math.PI/180),i.drawImage(r,0,0),i.restore(),!1}getImageData({width:e,height:t,tiles:n},r){const i=new Uint8ClampedArray(e*t*4);for(let s=0;s<t;s++)for(let t=0;t<e;t++){const e=n[s][t];a(t,s,it[e.terrain])}return r.forEach(({x:e,y:t,type:n,player:r})=>{r&&rt[r]?o(e,t,rt[r],3):n&&nt[n]&&o(e,t,nt[n],1)}),new ImageData(i,e,t);function o(e,t,n,r){for(let i=e-r;i<=e+r;i++)for(let e=t-r;e<=t+r;e++)a(i,e,n)}function a(t,n,r){const[o,a,s]=r.match(/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i).slice(1).map(e=>parseInt(e,16)),u=4*(e*n+t);i[u+0]=o,i[u+1]=a,i[u+2]=s,i[u+3]=255}}};function at(e){const t=[];return e.playerObjects.forEach((e,n)=>{e.forEach(e=>{t.push({x:e.x,y:e.y,type:e.type,player:n})})}),t}var st=function(e,t){const n=e.fileData;return n?function(){var e=y({}),t=document.createElement("div"),n=document.createElement("div");n.setAttribute("class","flex justify-between items-start");var r=document.createElement("div");r.setAttribute("class","bg-white pa3 ma2 shadow-2");var i=document.createElement("h2");return i.setAttribute("class","code ma0 mb2 tc"),e(i,[arguments[0]]),e(r,["\n          ",i,"\n          ",arguments[1],"\n        "]),e(n,["\n        ",r,"\n      "]),e(t,["\n      ",n,"\n    "]),t}(n.header.filename,ot.render({map:n.map,objects:at(n.tribePlayerData)})):document.createElement("div")};var ut=function(e,t){const n=e.fileType;return function(e,t,n){return function(){var e=y({}),t=document.createElement("div");t.setAttribute("class","flex flex-column h-100");var n=document.createElement("div");n.setAttribute("class","code w-100 pa2");var r=document.createElement("strong");e(r,["\n          ",arguments[0],".",arguments[1],"\n        "]);var i=document.createElement("div");i.setAttribute("style","float: right");var o=document.createElement("a");o.setAttribute("href",arguments[2]),o.setAttribute("download",arguments[3]+"."+arguments[4]),e(o,["\n            \u2b07\ufe0f download\n          "]),e(i,["\n          ",arguments[5],"\n\n          ",o,"\n        "]),e(n,["\n        ",r,"\n        ",i,"\n      "]);var a=document.createElement("div");return a.setAttribute("class","self-stretch w-100 overflow-y-auto"),e(a,["\n        ",arguments[6],"\n      "]),e(t,["\n      ",n,"\n      ",a,"\n    "]),t}(e.viewing.id,e.viewing.type,e.fileURL,e.viewing.id,e.viewing.type,function(e){return function(){var e=y({}),t=document.createElement("span");t.setAttribute("class","mr2");var n=document.createElement("a");return n.setAttribute("href","#palette"),e(n,[arguments[0]]),e(t,["\n      palette: ",n,"\n    "]),t}(e.palette.id)}(e),n(e,t))}(e,t,"palette"===n?re:"bmp"===n?We:"wav"===n?qe:"interface"===n?Qe:"rms"===n||"ai"===n||"text"===n?Ke:"slp"===n?tt:"scx"===n?st:()=>(function(){var e=y({}),t=document.createElement("div");return e(t,["\n      ",arguments[0],"\n    "]),t})(JSON.stringify(e.viewing)))};const lt=new class extends X{createElement({drs:e,tableStates:t,selected:n,emit:r}){return this.files=e.getFiles(),this.tableStates=JSON.stringify(t),this.selected=n,function(){var e=y({}),t=document.createElement("div");return e(t,["\n        ",arguments[0],"\n      "]),t}(e.tables.map(e=>(function({table:e,selected:t,isOpen:n},r){return function(){var e=y({}),t=document.createElement("div");return e(t,["\n      ",arguments[0],"\n      ",arguments[1],"\n    "]),t}(function(e,t,n){return function(){var e=y({}),t=document.createElement("p");return t.onclick=arguments[0],t.setAttribute("class","code b ma0 mt3"),e(t,["\n      ",arguments[1],"\n      ",arguments[2],"\n    "]),t}(n,t?"\u25bc":"\u25b6",e)}(e.ext,n,function(){r("collapseDrsTable",{table:e.ext,value:!n})}),n?function(){var e=y({}),t=document.createElement("ul");return t.setAttribute("class","list pa0 ma0"),e(t,["\n        ",arguments[0],"\n      "]),t}(e.files.map(e=>(function({file:e,selected:t},n){return function(){var e=y({}),t=document.createElement("li");t.setAttribute("data-id",arguments[5]),t.setAttribute("class","code"+arguments[6]);var n=document.createElement("a");n.setAttribute("href","#"+arguments[1]+"/"+arguments[2]),n.setAttribute("class","link black");var r=document.createElement("span");return r.setAttribute("class","mid-gray fr"),e(r,[arguments[0]]),e(n,["\n        ",arguments[3],".",arguments[4],"\n        ",r,"\n      "]),e(t,["\n      ",n,"\n    "]),t}(function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),n.length-1);e=Number(e/Math.pow(1e3,r));var i=n[r];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+i:(t?"-":"")+e.toFixed(1)+" "+i}(e.size),e.type.trim(),e.id,e.id,e.type,e.id,t?" b":"")})({file:e,selected:t===e.id}))):null)})({table:e,selected:n,isOpen:N(t[e.ext],!0)},r)))}getItem(e){return this.element.querySelector(`li[data-id="${e}"]`)}update({drs:e,tableStates:t,selected:n}){if(!function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.id!==i.id||r.type!==i.type||r.offset!==i.offset||r.size!==i.size)return!1}return!0}(e.getFiles(),this.files)||JSON.stringify(t)!==this.tableStates)return!0;if(n!==this.selected){const e=this.getItem(this.selected);e&&e.classList.remove("b");const t=this.getItem(n);t&&t.classList.add("b"),this.selected=n}return!1}},ft=new class extends X{createElement({file:e,onselect:t}){return this.props={file:e,onselect:t},function(){var e=y({}),t=document.createElement("div");return e(t,["\n        ",arguments[0],"\n      "]),t}(this.editing?this.createInput({onselect:t}):this.createName({file:e}))}createName({file:e}){const t=this;return function(){var e=y({}),t=document.createElement("p");t.setAttribute("class","b code mt0 flex justify-between items-center");var n=document.createElement("button");return n.onclick=arguments[0],n.setAttribute("class","bg-dark-pink white br2 bn pv1 ph3 pointer"),e(n,["\u270f\ufe0f"]),e(t,["\n        ",arguments[1],"\n        ",n,"\n      "]),t}(function(){t.editing=!0,t.render(t.props);const e=t.element.querySelector("input");e&&e.click()},e.name)}createInput({onselect:e}){const t=this;return function(){var e=document.createElement("input");return e.setAttribute("type","file"),e.setAttribute("accept",".drs"),e.onchange=arguments[0],e.setAttribute("class","w-100"),e}(function(n){t.editing=!1,e(n.target.files[0])})}update(){return!0}};var ct={};(function(e){"use strict";ct=!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?{nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:e}).call(this,ke);for(var dt={}.toString,ht=Array.isArray||function(e){return"[object Array]"==dt.call(e)},pt=oe.EventEmitter,gt={toByteArray:function(e){var t,n,r=St(e),i=r[0],o=r[1],a=new mt(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),s=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=yt[e.charCodeAt(n)]<<18|yt[e.charCodeAt(n+1)]<<12|yt[e.charCodeAt(n+2)]<<6|yt[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===o&&(t=yt[e.charCodeAt(n)]<<2|yt[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===o&&(t=yt[e.charCodeAt(n)]<<10|yt[e.charCodeAt(n+1)]<<4|yt[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},fromByteArray:function(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(kt(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i.push(bt[t>>2]+bt[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(bt[t>>10]+bt[t>>4&63]+bt[t<<2&63]+"=")),i.join("")}},bt=[],yt=[],mt="undefined"!=typeof Uint8Array?Uint8Array:Array,wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt=0,_t=wt.length;vt<_t;++vt)bt[vt]=wt[vt],yt[wt.charCodeAt(vt)]=vt;function St(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function kt(e,t,n){for(var r,i,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(bt[(i=r)>>18&63]+bt[i>>12&63]+bt[i>>6&63]+bt[63&i]);return o.join("")}yt["-".charCodeAt(0)]=62,yt["_".charCodeAt(0)]=63;var Et={read:function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,f=-7,c=n?i-1:0,d=n?-1:1,h=e[t+c];for(c+=d,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+c],c+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+c],c+=d,f-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,f=(1<<l)-1,c=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+c>=1?d/u:d*Math.pow(2,1-c))*u>=2&&(a++,u/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*u-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*g}},xt={},Tt=g({}),At=Tt.Buffer;function Lt(e,t){for(var n in e)t[n]=e[n]}function Mt(e,t,n){return At(e,t,n)}function Rt(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}At.from&&At.alloc&&At.allocUnsafe&&At.allocUnsafeSlow?xt=Tt:(Lt(Tt,xt),xt.Buffer=Mt),Lt(At,Mt),Mt.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return At(e,t,n)},Mt.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=At(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},Mt.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return At(e)},Mt.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Tt.SlowBuffer(e)};var jt=function(e){return null!=e&&(Rt(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Rt(e.slice(0,0))}(e)||!!e._isBuffer)},Ct={};(function(e){function t(e){return Object.prototype.toString.call(e)}Ct.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},Ct.isBoolean=function(e){return"boolean"==typeof e},Ct.isNull=function(e){return null===e},Ct.isNullOrUndefined=function(e){return null==e},Ct.isNumber=function(e){return"number"==typeof e},Ct.isString=function(e){return"string"==typeof e},Ct.isSymbol=function(e){return"symbol"==typeof e},Ct.isUndefined=function(e){return void 0===e},Ct.isRegExp=function(e){return"[object RegExp]"===t(e)},Ct.isObject=function(e){return"object"==typeof e&&null!==e},Ct.isDate=function(e){return"[object Date]"===t(e)},Ct.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},Ct.isFunction=function(e){return"function"==typeof e},Ct.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},Ct.isBuffer=e.isBuffer}).call(this,{isBuffer:jt});var Bt={},Ot=xt.Buffer;function It(e,t){e.emit("error",t)}Bt=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return Ot.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=Ot.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=r,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return r},e}(),F&&F.inspect&&F.inspect.custom&&(Bt.prototype[F.inspect.custom]=function(){var e=F.inspect({length:this.length});return this.constructor.name+" "+e});var Dt={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||ct.nextTick(It,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(ct.nextTick(It,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}},Ut={};(function(e){function t(t){try{if(!e.localStorage)return!1}catch(r){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}Ut=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Nt,Ft,Pt={},qt=Pt={};function Wt(){throw new Error("setTimeout has not been defined")}function zt(){throw new Error("clearTimeout has not been defined")}function Ht(e){if(Nt===setTimeout)return setTimeout(e,0);if((Nt===Wt||!Nt)&&setTimeout)return Nt=setTimeout,setTimeout(e,0);try{return Nt(e,0)}catch($a){try{return Nt.call(null,e,0)}catch($a){return Nt.call(this,e,0)}}}!function(){try{Nt="function"==typeof setTimeout?setTimeout:Wt}catch($a){Nt=Wt}try{Ft="function"==typeof clearTimeout?clearTimeout:zt}catch($a){Ft=zt}}();var $t,Vt=[],Gt=!1,Zt=-1;function Yt(){Gt&&$t&&(Gt=!1,$t.length?Vt=$t.concat(Vt):Zt=-1,Vt.length&&Jt())}function Jt(){if(!Gt){var e=Ht(Yt);Gt=!0;for(var t=Vt.length;t;){for($t=Vt,Vt=[];++Zt<t;)$t&&$t[Zt].run();Zt=-1,t=Vt.length}$t=null,Gt=!1,function(e){if(Ft===clearTimeout)return clearTimeout(e);if((Ft===zt||!Ft)&&clearTimeout)return Ft=clearTimeout,clearTimeout(e);try{Ft(e)}catch($a){try{return Ft.call(null,e)}catch($a){return Ft.call(this,e)}}}(e)}}function Kt(e,t){this.fun=e,this.array=t}function Xt(){}qt.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Vt.push(new Kt(e,t)),1!==Vt.length||Gt||Ht(Jt)},Kt.prototype.run=function(){this.fun.apply(null,this.array)},qt.title="browser",qt.browser=!0,qt.env={},qt.argv=[],qt.version="",qt.versions={},qt.on=Xt,qt.addListener=Xt,qt.once=Xt,qt.off=Xt,qt.removeListener=Xt,qt.removeAllListeners=Xt,qt.emit=Xt,qt.prependListener=Xt,qt.prependOnceListener=Xt,qt.listeners=function(e){return[]},qt.binding=function(e){throw new Error("process.binding is not supported")},qt.cwd=function(){return"/"},qt.chdir=function(e){throw new Error("process.chdir is not supported")},qt.umask=function(){return 0};var Qt=nn,en=d({});function tn(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function nn(e){if(!(this instanceof nn))return new nn(e);en.call(this,e),this._transformState={afterTransform:tn.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",rn)}function rn(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){on(e,t,n)}):on(this,null,null)}function on(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Ct.inherits=ie,Ct.inherits(nn,en),nn.prototype.push=function(e,t){return this._transformState.needTransform=!1,en.prototype.push.call(this,e,t)},nn.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},nn.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},nn.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},nn.prototype._destroy=function(e,t){var n=this;en.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})};var an=sn;function sn(e){if(!(this instanceof sn))return new sn(e);Qt.call(this,e)}Ct.inherits=ie,Ct.inherits(sn,Qt),sn.prototype._transform=function(e,t,n){n(null,e)};var un={};(un=un=f({})).Stream=un,un.Readable=un,un.Writable=h({}),un.Duplex=d({}),un.Transform=Qt,un.PassThrough=an;var ln=un.Transform,fn={};(function(e,t){function n(e,t){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),l(t)?n.showHidden=t:t&&fn._extend(n,t),h(n.showHidden)&&(n.showHidden=!1),h(n.depth)&&(n.depth=2),h(n.colors)&&(n.colors=!1),h(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=r),o(n,e,n.depth)}function r(e,t){var r=n.styles[t];return r?"\x1b["+n.colors[r][0]+"m"+e+"\x1b["+n.colors[r][1]+"m":e}function i(e,t){return e}function o(e,t,n){if(e.customInspect&&t&&m(t.inspect)&&t.inspect!==fn.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return d(r)||(r=o(e,r,n)),r}var i=function(e,t){if(h(t))return e.stylize("undefined","undefined");if(d(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return c(t)?e.stylize(""+t,"number"):l(t)?e.stylize(""+t,"boolean"):f(t)?e.stylize("null","null"):void 0}(e,t);if(i)return i;var g,w=Object.keys(t),_=(g={},w.forEach(function(e,t){g[e]=!0}),g);if(e.showHidden&&(w=Object.getOwnPropertyNames(t)),y(t)&&(w.indexOf("message")>=0||w.indexOf("description")>=0))return a(t);if(0===w.length){if(m(t)){var S=t.name?": "+t.name:"";return e.stylize("[Function"+S+"]","special")}if(p(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(b(t))return e.stylize(Date.prototype.toString.call(t),"date");if(y(t))return a(t)}var k,E="",x=!1,T=["{","}"];return u(t)&&(x=!0,T=["[","]"]),m(t)&&(E=" [Function"+(t.name?": "+t.name:"")+"]"),p(t)&&(E=" "+RegExp.prototype.toString.call(t)),b(t)&&(E=" "+Date.prototype.toUTCString.call(t)),y(t)&&(E=" "+a(t)),0!==w.length||x&&0!=t.length?n<0?p(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),k=x?function(e,t,n,r,i){for(var o=[],a=0,u=t.length;a<u;++a)v(t,String(a))?o.push(s(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(s(e,t,n,r,i,!0))}),o}(e,t,n,_,w):w.map(function(r){return s(e,t,n,_,r,x)}),e.seen.pop(),function(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(k,E,T)):T[0]+E+T[1]}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function s(e,t,n,r,i,a){var s,u,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(u=e.stylize("[Setter]","special")),v(r,i)||(s="["+i+"]"),u||(e.seen.indexOf(l.value)<0?(u=f(n)?o(e,l.value,null):o(e,l.value,n-1)).indexOf("\n")>-1&&(u=a?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n")):u=e.stylize("[Circular]","special")),h(s)){if(a&&i.match(/^\d+$/))return u;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function u(e){return Array.isArray(e)}function l(e){return"boolean"==typeof e}function f(e){return null===e}function c(e){return"number"==typeof e}function d(e){return"string"==typeof e}function h(e){return void 0===e}function p(e){return g(e)&&"[object RegExp]"===w(e)}function g(e){return"object"==typeof e&&null!==e}function b(e){return g(e)&&"[object Date]"===w(e)}function y(e){return g(e)&&("[object Error]"===w(e)||e instanceof Error)}function m(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}fn.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}fn.inherits=ie,fn._extend=function(e,t){if(!t||!g(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,ke,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var cn=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)dn.call(n,r)&&(e[r]=n[r])}return e},dn=Object.prototype.hasOwnProperty,hn={};(function(e){var t=fn.inherits;function n(e){ln.call(this,e),this._destroyed=!1}function r(e,t,n){n(null,e)}function i(e){return function(t,n,i){return"function"==typeof t&&(i=n,n=t,t={}),"function"!=typeof n&&(n=r),"function"!=typeof i&&(i=null),e(t,n,i)}}t(n,ln),n.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},(hn=i(function(e,t,r){var i=new n(e);return i._transform=t,r&&(i._flush=r),i})).ctor=i(function(e,r,i){function o(t){if(!(this instanceof o))return new o(t);this.options=cn(e,t),n.call(this,this.options)}return t(o,n),o.prototype._transform=r,i&&(o.prototype._flush=i),o}),hn.obj=i(function(e,t,r){var i=new n(cn({objectMode:!0,highWaterMark:16},e));return i._transform=t,r&&(i._flush=r),i})}).call(this,ke);var pn=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(e){r[e]=t[e]}),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}},gn={};function bn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function yn(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}(gn=pn(bn)).strict=pn(yn),bn.proto=bn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return bn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return yn(this)},configurable:!0})});var mn=function(){},wn=function(e,t,n){if("function"==typeof t)return wn(e,null,t);t||(t={}),n=gn(n||mn);var r=e._writableState,i=e._readableState,o=t.readable||!1!==t.readable&&e.readable,a=t.writable||!1!==t.writable&&e.writable,s=function(){e.writable||u()},u=function(){a=!1,o||n.call(e)},l=function(){o=!1,a||n.call(e)},f=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},c=function(t){n.call(e,t)},d=function(){return(!o||i&&i.ended)&&(!a||r&&r.ended)?void 0:n.call(e,new Error("premature close"))},h=function(){e.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",u),e.on("abort",d),e.req?h():e.on("request",h)):a&&!r&&(e.on("end",s),e.on("close",s)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",f),e.on("end",l),e.on("finish",u),!1!==t.error&&e.on("error",c),e.on("close",d),function(){e.removeListener("complete",u),e.removeListener("abort",d),e.removeListener("request",h),e.req&&e.req.removeListener("finish",u),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",u),e.removeListener("exit",f),e.removeListener("end",l),e.removeListener("error",c),e.removeListener("close",d)}},vn=wn,_n=function(){},Sn=function(e){return"function"==typeof e},kn=function(e){e()},En=function(e,t){return e.pipe(t)},xn=function(){var e,t=Array.prototype.slice.call(arguments),n=Sn(t[t.length-1]||_n)&&t.pop()||_n;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map(function(i,o){var a=o<t.length-1;return function(e,t,n,r){r=gn(r);var i=!1;e.on("close",function(){i=!0}),vn(e,{readable:t,writable:n},function(e){if(e)return r(e);i=!0,r()});var o=!1;return function(t){if(!i&&!o)return o=!0,function(e){return!!F&&(e instanceof(F.ReadStream||_n)||e instanceof(F.WriteStream||_n))&&Sn(e.close)}(e)?e.close(_n):function(e){return e.setHeader&&Sn(e.abort)}(e)?e.abort():Sn(e.destroy)?e.destroy():void r(t||new Error("stream was destroyed"))}}(i,a,o>0,function(t){e||(e=t),t&&r.forEach(kn),a||(r.forEach(kn),n(e))})});return t.reduce(En)},Tn={};(function(e){Tn=function(t,n){var r=[];t.on("data",function(e){r.push(e)}),t.once("end",function(){n&&n(null,e.concat(r)),n=null}),t.once("error",function(e){n&&n(e),n=null})}}).call(this,g({}).Buffer);var An=oe.EventEmitter,Ln={},Mn=xt.Buffer;function Rn(e,t){e.emit("error",t)}Ln=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return Mn.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=Mn.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=r,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return r},e}(),F&&F.inspect&&F.inspect.custom&&(Ln.prototype[F.inspect.custom]=function(){var e=F.inspect({length:this.length});return this.constructor.name+" "+e});var jn={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||ct.nextTick(Rn,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(ct.nextTick(Rn,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}},Cn=In,Bn=u({});function On(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function In(e){if(!(this instanceof In))return new In(e);Bn.call(this,e),this._transformState={afterTransform:On.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",Dn)}function Dn(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){Un(e,t,n)}):Un(this,null,null)}function Un(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Ct.inherits=ie,Ct.inherits(In,Bn),In.prototype.push=function(e,t){return this._transformState.needTransform=!1,Bn.prototype.push.call(this,e,t)},In.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},In.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},In.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},In.prototype._destroy=function(e,t){var n=this;Bn.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})};var Nn=Fn;function Fn(e){if(!(this instanceof Fn))return new Fn(e);Cn.call(this,e)}Ct.inherits=ie,Ct.inherits(Fn,Cn),Fn.prototype._transform=function(e,t,n){n(null,e)};var Pn={};(Pn=Pn=s({})).Stream=Pn,Pn.Readable=Pn,Pn.Writable=l({}),Pn.Duplex=u({}),Pn.Transform=Cn,Pn.PassThrough=Nn;var qn={};(function(e){var t=Pn.Readable;qn=r,r.ctor=i,r.obj=function(e,t){return("function"==typeof e||Array.isArray(e))&&(t=e,e={}),(e=a(e)).objectMode=!0,e.highWaterMark=16,r(e,t)};var n=i();function r(e,t){("object"!=typeof e||Array.isArray(e))&&(t=e,e={});var r,i=new n(e);return i._from=Array.isArray(t)?(r=(r=t).slice(),function(e,t){var n=null,i=r.length?r.shift():null;i instanceof Error&&(n=i,i=null),t(n,i)}):t||o,i}function i(n,r){function i(e){if(!(this instanceof i))return new i(e);this._reading=!1,this._callback=function(e,t){if(!r.destroyed)return e?r.destroy(e):null===t?r.push(null):(r._reading=!1,void(r.push(t)&&r._read(o)))},this.destroyed=!1,t.call(this,e||n);var r=this,o=this._readableState.highWaterMark}return"function"==typeof n&&(r=n,n={}),n=a(n),ie(i,t),i.prototype._from=r||o,i.prototype._read=function(e){this._reading||this.destroyed||(this._reading=!0,this._from(e,this._callback))},i.prototype.destroy=function(t){if(!this.destroyed){this.destroyed=!0;var n=this;e.nextTick(function(){t&&n.emit("error",t),n.emit("close")})}},i}function o(){}function a(e){return e||{}}}).call(this,ke);var Wn,zn=function(e){var t=0;return qn(function(n,r){if(t>=e.length)return this.push(null);var i=t;t+=n,r(null,e.slice(i,t))})},Hn=xt.Buffer,$n=function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r=[]);var i=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return i.read.apply(i,[Hn.isBuffer(e)?{buf:e,offset:0}:e].concat(t))};return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.$structType=!0,i.read=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];for(var o=t.read.apply(i,e),a=0,s=n.length;a<s;a++)o=n[a].call(i,o);return o},null==i.write?i.write=function(){throw new Error("unimplemented")}:i.write=function(e,n){for(var o=n,a=r.length-1;a>=0;a--)o=r[a].call(i,o,e);return t.write.call(i,e,o)},i.transform=i.mapRead=function(i){return e(t,n.concat([i]),r)},i.mapWrite=function(i){return e(t,n,r.concat([i]))},i.map=function(i,o){return e(t,i?n.concat([i]):n,o?r.concat([o]):r)},null==i.size?i.size=function(){throw new Error("unimplemented")}:"number"==typeof i.size&&(i.size=function(){return t.size}),i.encode=function e(t,n,r){r||(r=0),n||(n=Hn.alloc(i.size(t)));var o={buf:n,offset:r};return i.write(o,t),e.bytes=o.offset-r,o.buf},i.decode=function e(t,n,r){n||(n=0);var o={buf:t,offset:n},a=i.read(o);return e.bytes=o.offset-n,a},i.encodingLength=i.size,i},Vn={exports:{}};Wn=function(){return function(e,t,n,r){for(r=0,t=t.split?t.split("."):t;e&&r<t.length;)e=e[t[r++]];return void 0===e?n:e}},"object"==typeof Vn.exports?Vn.exports=function(e,t,n,r){for(r=0,t=t.split?t.split("."):t;e&&r<t.length;)e=e[t[r++]];return void 0===e?n:e}:"function"==typeof define&&define.amd?define(Wn):this.dlv=function(e,t,n,r){for(r=0,t=t.split?t.split("."):t;e&&r<t.length;)e=e[t[r++]];return void 0===e?n:e},Vn=Vn.exports;var Gn=function(e,t){if("string"==typeof t){for(;0===t.indexOf("../");){if(null===e.$parent)throw new Error("cannot access nonexistent parent");e=e.$parent,t=t.substr(3)}return Vn(e,t)}return"function"==typeof t?t.call(e,e):t},Zn=xt.Buffer;function Yn(e){if(e.read&&e.write&&null!=e.size)return e.$structType?e:$n(e);if(e.encode&&e.decode)return function(e){return $n({read:function(t){var n=e.decode(t.buf,t.offset);return t.offset+=e.decode.bytes,n},write:function(t,n){e.encode(n,t.buf,t.offset),t.offset+=e.encode.bytes},size:e.encodingLength})}(e);if(hr[e])return hr[e];throw new Error('no such type: "'+e+'"')}var Jn=function(e,t,n){return $n({read:function(n){var r=n.buf[t](n.offset);return n.offset+=e,r},write:function(t,r){t.buf[n](r,t.offset),t.offset+=e},size:e})},Kn=Jn(1,"readInt8","writeInt8"),Xn=Jn(1,"readUInt8","writeUInt8"),Qn=Jn(2,"readInt16LE","writeInt16LE"),er=Jn(2,"readUInt16LE","writeUInt16LE"),tr=Jn(4,"readInt32LE","writeInt32LE"),nr=Jn(4,"readUInt32LE","writeUInt32LE"),rr=Jn(4,"readFloatLE","writeFloatLE"),ir=Jn(8,"readDoubleLE","writeDoubleLE"),or=Jn(2,"readInt16BE","writeInt16BE"),ar=Jn(2,"readUInt16BE","writeUInt16BE"),sr=Jn(4,"readInt32BE","writeInt32BE"),ur=Jn(4,"readUInt32BE","writeUInt32BE"),lr=Jn(4,"readFloatBE","writeFloatBE"),fr=Jn(8,"readDoubleBE","writeDoubleBE"),cr=function(e,t){return void 0===t&&(t="utf8"),$n({read:function(n){var r=Gn(n.struct,e),i=n.buf.toString(t,n.offset,n.offset+r);return n.offset+=r,i},write:function(n,r){var i=Gn(n.struct,e);if(r.length!==i)throw new Error("cannot write incorrect string size, expected "+i+", got "+r.length);n.buf.write(r,n.offset,i,t),n.offset+=i},size:function(t,n){return Gn(n,e)}})},dr=function(e,t){var n;return t=Yn(t),$n({read:function(r,i){return Gn(r.struct,e)?t.read(r,i):n?n.read(r,i):void 0},write:function(r,i){if(Gn(r.struct,e))t.write(r,i);else if(n)return n.write(r,i)},size:function(n,r){return Gn(r,e)?t.size(n,r):0},else:function(e){return n=Yn(e),this}})},hr={int8:Kn,uint8:Xn,bool:$n({read:function(e){var t=0!==e.buf[e.offset];return e.offset++,t},write:function(e,t){e.buf[e.offset]=t?1:0,e.offset++},size:1}),int16:Qn,uint16:er,int16be:or,uint16be:ar,int32:tr,uint32:nr,int32be:sr,uint32be:ur,float:rr,floatbe:lr,double:ir,doublebe:fr,char:cr,string:cr,array:function(e,t){var n=Yn(t);return $n({read:function(t,r){for(var i=Gn(t.struct,e),o=[],a=0;a<i;a++)o.push(n.read(t,r));return o},write:function(t,r){var i=Gn(t.struct,e);if(r.length!==i)throw new Error("cannot write incorrect array length, expected "+i+", got "+r.length);for(var o=0;o<i;o++)n.write(t,r[o])},size:"number"==typeof e?function(n,r){return e*t.size(n[0],r)}:function(e,n){return e.length?t.size(e[0],n)*e.length:0}})},buffer:function(e){return $n({read:function(t){var n=Gn(t.struct,e),r=Zn.alloc(n);return t.buf.copy(r,0,t.offset,t.offset+n),t.offset+=n,r},write:function(t,n){if(!Zn.isBuffer(n)){var r=Object.prototype.toString.call(null).replace(/^\[object (.+)]$/,"$1");throw new Error("cannot write value of incorrect type, expected Buffer, got "+r)}var i=Gn(t.struct,e),o=Math.min(n.length,i);n.copy(t.buf,t.offset,0,o),t.buf.fill(0,t.offset+o,t.offset+i),t.offset+=i},size:function(t){return Gn(t,e)}})},when:dr,if:dr,skip:function(e){return $n({read:function(t,n){t.offset+=Gn(n,e)},write:function(t,n){t.offset+=Gn(n,e)},size:function(t){return Gn(t,e)}})}},pr={types:hr,getType:Yn},gr={},br=pr.types,yr=pr.getType;function mr(e){var t;t=Array.isArray(e)?e.map(function(e){return Array.isArray(e)?[e[0],yr(e[1])]:[null,yr(e)]}):e?Object.keys(e).map(function(t){return[t,yr(e[t])]}):[];var n=$n({read:function(e,n){var r={},i={struct:r,buf:e.buf,offset:e.offset||0,parent:n||null};return r.$parent=n||null,t.forEach(function(e){var t=e[0],n=e[1].read(i,r);null!==t?r[t]=n:"object"==typeof n&&Object.assign(r,n)}),e.offset=i.offset,delete r.$parent,r},write:function(e,n){t.forEach(function(t){var r=t[0],i=t[1];if(null!==r){var o=n[r];"object"==typeof o&&(o.$parent=n),i.write(e,o)}else i.write(e,n)})},size:function(e){return t.reduce(function(t,n){var r=n[0];return t+n[1].size(null!==r?e[r]:e,e)},0)}});return n.field=function(e,r){return"object"==typeof e?t.push([null,yr(e)]):t.push([e,yr(r)]),n},n}mr.default=mr,mr.Struct=mr,mr.Type=$n,mr.types=br,mr.getValue=Gn,mr.getType=yr,gr=mr;var wr=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,_r=Object.prototype.propertyIsEnumerable,Sr=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(Va){return!1}}()?Object.assign:function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))vr.call(n,a)&&(i[a]=n[a]);if(wr){r=wr(n);for(var s=0;s<r.length;s++)_r.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},kr=oe.EventEmitter,Er={},xr=xt.Buffer;function Tr(e,t){e.emit("error",t)}Er=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return xr.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=xr.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=r,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return r},e}(),F&&F.inspect&&F.inspect.custom&&(Er.prototype[F.inspect.custom]=function(){var e=F.inspect({length:this.length});return this.constructor.name+" "+e});var Ar={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||ct.nextTick(Tr,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(ct.nextTick(Tr,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}},Lr=jr,Mr=o({});function Rr(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function jr(e){if(!(this instanceof jr))return new jr(e);Mr.call(this,e),this._transformState={afterTransform:Rr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",Cr)}function Cr(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){Br(e,t,n)}):Br(this,null,null)}function Br(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Ct.inherits=ie,Ct.inherits(jr,Mr),jr.prototype.push=function(e,t){return this._transformState.needTransform=!1,Mr.prototype.push.call(this,e,t)},jr.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},jr.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},jr.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},jr.prototype._destroy=function(e,t){var n=this;Mr.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})};var Or=Ir;function Ir(e){if(!(this instanceof Ir))return new Ir(e);Lr.call(this,e)}Ct.inherits=ie,Ct.inherits(Ir,Lr),Ir.prototype._transform=function(e,t,n){n(null,e)};var Dr={};(Dr=Dr=i({})).Stream=Dr,Dr.Readable=Dr,Dr.Writable=a({}),Dr.Duplex=o({}),Dr.Transform=Lr,Dr.PassThrough=Or;var Ur={};(function(e){var t=new e([0]);function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);"function"==typeof e&&(r=t,t=e,e={}),Dr.Writable.call(this,e),this.destroyed=!1,this._worker=t||null,this._flush=r||null}Ur=n,ie(n,Dr.Writable),n.obj=function(e,t,r){return"function"==typeof e?n.obj(null,e,t):(e||(e={}),e.objectMode=!0,new n(e,t,r))},n.prototype._write=function(e,n,r){t===e?this._flush(r):this._worker(e,n,r)},n.prototype.end=function(e,n,r){return this._flush?"function"==typeof e?this.end(null,null,e):"function"==typeof n?this.end(e,null,n):(e&&this.write(e),this._writableState.ending||this.write(t),Dr.Writable.prototype.end.call(this,r)):Dr.Writable.prototype.end.apply(this,arguments)},n.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,e&&this.emit("error",e),this.emit("close"))}}).call(this,g({}).Buffer);var Nr=Ur,Fr=oe.EventEmitter,Pr={},qr=xt.Buffer;function Wr(e,t){e.emit("error",t)}Pr=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return qr.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r=qr.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=r,n=o,i.data.copy(t,n),o+=i.data.length,i=i.next;return r},e}(),F&&F.inspect&&F.inspect.custom&&(Pr.prototype[F.inspect.custom]=function(){var e=F.inspect({length:this.length});return this.constructor.name+" "+e});var zr={destroy:function(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||ct.nextTick(Wr,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(ct.nextTick(Wr,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}},Hr=Gr,$r=n({});function Vr(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Gr(e){if(!(this instanceof Gr))return new Gr(e);$r.call(this,e),this._transformState={afterTransform:Vr.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",Zr)}function Zr(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){Yr(e,t,n)}):Yr(this,null,null)}function Yr(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}Ct.inherits=ie,Ct.inherits(Gr,$r),Gr.prototype.push=function(e,t){return this._transformState.needTransform=!1,$r.prototype.push.call(this,e,t)},Gr.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},Gr.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Gr.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Gr.prototype._destroy=function(e,t){var n=this;$r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})};var Jr=Kr;function Kr(e){if(!(this instanceof Kr))return new Kr(e);Hr.call(this,e)}Ct.inherits=ie,Ct.inherits(Kr,Hr),Kr.prototype._transform=function(e,t,n){n(null,e)};var Xr={};(Xr=Xr=t({})).Stream=Xr,Xr.Readable=Xr,Xr.Writable=r({}),Xr.Duplex=n({}),Xr.Transform=Hr,Xr.PassThrough=Jr;var Qr=ei;function ei(e,t){var n=this;if(!(n instanceof ei))return new ei(e,t);Xr.Readable.call(n,t),n.destroyed=!1,n._drained=!1,n._forwarding=!1,n._current=null,"function"==typeof e?n._queue=e:(n._queue=e.map(ti),n._queue.forEach(function(e){"function"!=typeof e&&n._attachErrorListener(e)})),n._next()}function ti(e){if(!e||"function"==typeof e||e._readableState)return e;var t=(new Xr.Readable).wrap(e);return e.destroy&&(t.destroy=e.destroy.bind(e)),t}ie(ei,Xr.Readable),ei.obj=function(e){return new ei(e,{objectMode:!0,highWaterMark:16})},ei.prototype._read=function(){this._drained=!0,this._forward()},ei.prototype._forward=function(){if(!this._forwarding&&this._drained&&this._current){var e;for(this._forwarding=!0;null!==(e=this._current.read());)this._drained=this.push(e);this._forwarding=!1}},ei.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,this._current&&this._current.destroy&&this._current.destroy(),"function"!=typeof this._queue&&this._queue.forEach(function(e){e.destroy&&e.destroy()}),e&&this.emit("error",e),this.emit("close"))},ei.prototype._next=function(){var e=this;if(e._current=null,"function"==typeof e._queue)e._queue(function(t,n){if(t)return e.destroy(t);n=ti(n),e._attachErrorListener(n),e._gotNextStream(n)});else{var t=e._queue.shift();"function"==typeof t&&(t=ti(t()),e._attachErrorListener(t)),e._gotNextStream(t)}},ei.prototype._gotNextStream=function(e){var t=this;if(!e)return t.push(null),void t.destroy();function n(){t._forward()}function r(){e._readableState.ended||t.destroy()}t._current=e,t._forward(),e.on("readable",n),e.once("end",function i(){t._current=null,e.removeListener("readable",n),e.removeListener("end",i),e.removeListener("close",r),t._next()}),e.once("close",r)},ei.prototype._attachErrorListener=function(e){var t=this;e&&e.once("error",function n(r){e.removeListener("error",n),t.destroy(r)})};var ni={};(function(e){ni=function(t,n){if("undefined"==typeof Blob||!(t instanceof Blob))throw new Error("first argument must be a Blob");if("function"!=typeof n)throw new Error("second argument must be a function");var r=new FileReader;r.addEventListener("loadend",function t(i){r.removeEventListener("loadend",t,!1),i.error?n(i.error):n(null,e.from(r.result))},!1),r.readAsArrayBuffer(t)}}).call(this,g({}).Buffer);var ri={};function ii(e){this.blob=e}ri=ii,ii.prototype.isOpen=function(){return!0},ii.prototype.open=function(e){setTimeout(function(){e(null)})},ii.prototype.read=function(e,t,n){ni(this.blob.slice(e,t),n)},ii.prototype.createReadStream=function(e,t){return function(e){if("undefined"==typeof Blob)throw new Error("Blob not supported");if(!(e instanceof Blob))throw new TypeError("Expected a Blob object");var t=0;return qn(function(n,r){if(t>=e.size)return r(null,null);var i=t;t+=n;var o=e.slice(i,t);ni(o,r)})}(this.blob.slice(e,t))},ii.prototype.close=function(e){setTimeout(function(){e(null)})};var oi=xt.Buffer,ai=gr.types,si=bi,ui=64,li=84,fi=12,ci=12,di="Copyright (c) 1997 Ensemble Studios.\0\0\0\0",hi="Copyright (c) 2001 LucasArts Entertainment Company LLC",pi=function(e){return gr({copyright:e?ai.char(60):ai.char(40),fileVersion:ai.char(4),fileType:ai.char(12),numTables:ai.int32,firstFileOffset:ai.int32})},gi=gr({ext:ai.uint32.map(function(e){for(var t="",n=0;n<4;n++)t=String.fromCharCode(255&e)+t,e>>=8;return t},function(e){for(;e.length<4;)e+=" ";for(var t=0,n=0;n<4;n++)t=(t<<8)+e.charCodeAt(n);return t}),offset:ai.int32,numFiles:ai.int32});function bi(e){if(!(this instanceof bi))return new bi(e);if(this.tables=[],this.isSWGB=null,void 0===e&&(e={}),"string"==typeof e){if("function"!=typeof F)throw new Error("Cannot instantiate with a string filename in the browser");this.source=new F(e)}else if("undefined"!=typeof Blob&&e instanceof Blob)this.source=new ri(e);else{if("object"!=typeof e)throw new TypeError("Expected a file path string or an options object, got "+typeof e);this.isSWGB=!!e.hasOwnProperty("isSWGB")&&e.isSWGB,this.copyright=e.hasOwnProperty("copyright")?e.copyright:this.isSWGB?hi:di,this.fileVersion=e.hasOwnProperty("fileVersion")?e.fileVersion:"1.00",this.fileType=e.hasOwnProperty("fileType")?e.fileType:"tribe\0\0\0\0\0\0\0"}}function yi(e){return(e.isSWGB?li:ui)+fi*e.tables.length+ci*e.getFileCount()}function mi(e,t){for(var n=0;n<e.tables.length;n+=1)if((r=e.tables[n]).ext===t)return r;var r={ext:t,offset:null,numFiles:0,files:[]};return e.tables.push(r),e.numTables=e.tables.length,r}function wi(e,t){return{id:t,offset:null,size:null,type:e}}function vi(e,t,n){return function(r,i){if(r)return n(r);e.buffer=i,e.size=i.byteLength;for(var o=!1,a=0;a<t.numFiles;a++)if(t.files[a].id===e.id){t.files[a]=e,o=!0;break}o||(t.files.push(e),t.numFiles=t.files.length),n(null,e)}}bi.prototype.getFileCount=function(){return this.tables.reduce(function(e,t){return e+t.files.length},0)},bi.prototype.getSize=function(){return yi(this)+this.getFiles().reduce(function(e,t){return e+t.size},0)},bi.prototype.open=function(e){if(!this.source)throw new Error("Cannot open an in-memory DRS file");this.source.open(e)},bi.prototype.read=function(e){var t=this;if(!this.source.isOpen())return this.open(function(n){n?e(n):t.read(e)});var n=0;function r(r,o){if(r)return e(r);var a=ai.array(t.numTables,gi.transform(function(e){return e.files=[],e}));t.tables=a(o);var s=t.tables.reduce(function(e,t){return e+t.numFiles},0);n+=o.length,t.source.read(n,n+ci*s,i)}function i(r,i){if(r)return e(r);var o=0;t.tables.forEach(function(e){for(var t,n=0,r=e.numFiles;n<r;n++)(t={}).id=i.readInt32LE(o),o+=4,t.offset=i.readInt32LE(o),o+=4,t.size=i.readInt32LE(o),o+=4,t.type=e.ext,e.files.push(t)}),n+=i.length,e()}t.source.read(0,li,function(i,o){if(i)return e(i);t.isSWGB=o.slice(0,hi.length).toString("ascii")===hi,t.isSWGB||(o=o.slice(0,ui));var a=pi(t.isSWGB);Sr(t,a(o.slice(n))),n+=o.length,t.source.read(n,n+fi*t.numTables,r)})},bi.prototype.getFiles=function(){return this.tables.reduce(function(e,t){return e.concat(t.files)},[])},bi.prototype.getFile=function(e){for(var t=0;t<this.tables.length;t++)for(var n=this.tables[t],r=0;r<n.numFiles;r++)if(n.files[r].id===e)return n.files[r];return null},bi.prototype.createReadStream=function(e,t){var n=this;t=t||{};var r=hn();return n.numTables?i():n.read(i),r;function i(i){if(i)r.emit("error",i);else{var o=n.getFile(e);if(o||r.emit("error",new Error("File "+e+" does not exist")),r.emit("meta",o),o.buffer)xn(zn(o.buffer),r);else{var a=0,s=o.size-1;t&&"number"==typeof t.start&&(a=t.start),t&&"number"==typeof t.end&&(s=t.end),xn(n.source.createReadStream(o.offset+a,o.offset+s),r)}}}},bi.prototype.readFile=function(e,t,n){"function"==typeof t&&(n=t,t={});var r=this;if(!this.numTables)return this.read(function(i){i?n(i):r.readFile(e,t,n)});var i=this.getFile(e);if(null==i)return n(new Error("Cannot find file #"+e));var o=0,a=i.size;t&&"number"==typeof t.start&&(o=t.start),t&&"number"==typeof t.end&&(a=t.end),this.source.read(i.offset+o,i.offset+a,function(e,t){e?n(e):n(null,t,i)})},bi.prototype.putFile=function(e,t,n,r){var i,o=vi(wi(e,t),mi(this,e),r);if(jt(n))setTimeout(function(){o(null,n)},0);else{if(!(i=n)||"object"!=typeof i||"function"!=typeof i.pipe)throw new TypeError("Expected a Buffer or a Stream, but got '"+typeof n+"'");Tn(n,o)}},bi.prototype.createWriteStream=function(e,t){var n=wi(e,t),r=mi(this,e),i=[],o=Nr(function(e,t,n){i.push(e),n()},function(e){vi(n,r,function(t,n){t||o.emit("meta",n),e(t)})(null,oi.concat(i))});return o},bi.prototype.archive=function(){var e=this,t=yi(e),n=e.tables.map(function(e){return function(){for(var n=0,r=oi.alloc(e.numFiles*ci),i=0;i<e.numFiles;i++){var o=e.files[i];r.writeInt32LE(o.id,n),n+=4,r.writeInt32LE(t,n),n+=4,r.writeInt32LE(o.size,n),n+=4,t+=o.size}return zn(r)}}),r=e.getFiles().map(function(t){return function(){return e.createReadStream(t.id)}}),i=[function(){return zn(pi(e.isSwgb).encode({copyright:e.copyright,fileVersion:e.fileVersion,fileType:e.fileType,numTables:e.numTables,firstFileOffset:yi(e)}))},function(){var t=(e.isSWGB?li:ui)+fi*e.tables.length;return zn(oi.concat(e.tables.map(function(e){return e.offset=t,t+=e.numFiles*ci,gi.encode(e)})))}].concat(n).concat(r);return Qr(i)},bi.prototype.close=function(e){this.source.close(e)};var _i={};(function(e){function t(n){var r,i=this;if(!(this instanceof t))return new t(n);if(n||(n=[]),Array.isArray(n))r={colors:n,numColors:n.length,version:"0100"};else{var o=e.isBuffer(n)?n.toString("ascii"):n;r=function(e){for(var t=[],n=o.split(/\r?\n/),r=n[1],i=parseInt(n[2],10),a=3,s=i+3;a<s;a++)t.push(n[a].split(" ").map(function(e){return parseInt(e,10)}));return{version:r,numColors:i,colors:t}}()}return Sr(this,r),r.colors.version=r.version,Object.keys(t.prototype).forEach(function(e){return r.colors[e]=i[e].bind(i)}),r.colors}_i=t,t.prototype.getColor=function(e){return this.colors[e]},t.prototype.setColor=function(e,t){return this.colors[e]=t,this},t.prototype.toString=function(){return"JASC-PAL\n"+this.version+"\n"+this.colors.length+"\n"+this.colors.map(function(e){return e.join(" ")}).join("\n")}}).call(this,{isBuffer:jt});var Si={},ki="undefined"!=typeof window;if(ki&&function(){try{var e=new window.ImageData(1,1);return 1===e.width&&1===e.height}catch(Va){return!1}}())Si=function(e,t){return new window.ImageData(e,t)};else if(ki&&"undefined"!=typeof document&&document.createElement){var Ei=document.createElement("canvas");Si=function(e,t){return function(e,t,n){return e.getContext("2d").createImageData(t,n)}(Ei,e,t)}}else Si=function(e,t){return{data:new Uint8ClampedArray(e*t*4).fill(0),width:e,height:t}};var xi=gr.types,Ti=Mi,Ai=gr({version:xi.string(4),numFrames:xi.int32,comment:xi.string(24),frames:xi.array("numFrames",gr({cmdTableOffset:xi.uint32,outlineTableOffset:xi.uint32,paletteOffset:xi.uint32,properties:xi.uint32,width:xi.int32,height:xi.int32,hotspot:gr({x:xi.int32,y:xi.int32})}))}),Li=function(e,t,n){return e[t+16*n]};function Mi(e){if(!(this instanceof Mi))return new Mi(e);this.frames=[],this.bodyOffset=0,this.buf=e,this.parseHeader()}Mi.prototype.parseHeader=function(){var e=Ai(this.buf);this.version=e.version,this.numFrames=e.numFrames,this.comment=e.comment,this.frames=e.frames,this.bodyOffset=32+32*e.numFrames},Mi.prototype.parseFrame=function(e){for(var t=this.frames[e],n=t.height,r=this.buf,i=[],o=t.outlineTableOffset,a=function(e){return e||r[++o]},s=0;s<n;s++){var u=r.readUInt16LE(o),l=r.readUInt16LE(o+2);i.push({left:u,right:l}),o+=4}o=t.cmdTableOffset+4*t.height;for(var f=[],c=0,d=void 0;c<n;){var h=r[o],p=15&h,g=240&h,b=3&h;if(15===p)f.push({command:0}),c++;else if(0===b)for(d=h>>2;d--;)o++,f.push({command:1,arg:r[o]});else if(1===b)d=a(h>>2),f.push({command:2,arg:d});else if(2===p)for(d=(g<<4)+r[++o];d--;)o++,f.push({command:1,arg:r[o]});else if(3===p)d=(g<<4)+r[++o],f.push({command:2,arg:d});else if(6===p)for(d=a(h>>4);d--;)o++,f.push({command:3,arg:r[o]});else if(7===p)d=a(h>>4),o++,f.push({command:6,arg:{pxCount:d,color:r[o]}});else if(10===p)d=a(h>>4),o++,f.push({command:7,arg:{pxCount:d,color:r[o]}});else if(11===p)d=a(h>>4),f.push({command:4,arg:d});else{if(14!==p)throw new Error("unrecognized opcode 0x"+h.toString(16));if(64===g)f.push({command:5,arg:1});else if(96===g)f.push({command:5,arg:2});else if(80===g)for(d=r[++o];d--;)f.push({command:5,arg:1});else if(112===g)for(d=r[++o];d--;)f.push({command:5,arg:2})}o++}return t.outlines=i,t.commands=f,t},Mi.prototype.getFrame=function(e){return this.frames[e]&&this.frames[e].commands||this.parseFrame(e),this.frames[e]},Mi.prototype.renderFrame=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.player,i=n.drawOutline;if(!t)throw new Error("no palette passed to renderFrame");r||(r=1);var o=this.getFrame(e),a=o.outlines,s=Si(o.width,o.height),u=s.data,l=(u.fill||function(e,t,n){n||(n=this.length),t||(t=0);for(var r=t;r<n;r++)this[r]=e}).bind(u),f=0,c=0,d=function(e,t){u[f++]=e[0],u[f++]=e[1],u[f++]=e[2],u[f++]=t},h=a[0].left;return 32768===h&&(h=o.width),l(0,0,4*h),f=4*h,o.commands.forEach(function(e){var n=e.command,s=e.arg,u=void 0,h=void 0;switch(n){case 2:l(0,f,f+4*s),f+=4*s;break;case 0:if(l(0,f,f+4*a[c].right),f+=4*a[c].right,++c<o.height){var p=a[c].left;32768===p&&(p=o.width),l(0,f,f+4*p),f+=4*p}break;case 1:d(t[s],255);break;case 6:for(u=s.pxCount,h=t[s.color];u--;)d(h,255);break;case 5:d([0,0,0],i?255:0);break;case 3:d(Li(t,s,r),255);break;case 7:for(u=s.pxCount,h=Li(t,s.color,r);u--;)d(h,255);break;case 4:for(u=s;u--;)d([255,0,0],255)}}),s};var Ri=Ti,ji={},Ci=g({}),Bi=Ci.Buffer;function Oi(e,t){for(var n in e)t[n]=e[n]}function Ii(e,t,n){return Bi(e,t,n)}Bi.from&&Bi.alloc&&Bi.allocUnsafe&&Bi.allocUnsafeSlow?ji=Ci:(Oi(Ci,ji),ji.Buffer=Ii),Oi(Bi,Ii),Ii.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return Bi(e,t,n)},Ii.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=Bi(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},Ii.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Bi(e)},Ii.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Ci.SlowBuffer(e)};var Di={},Ui={},Ni="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function Fi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Ui.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)Fi(n,r)&&(e[r]=n[r])}}return e},Ui.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var Pi={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},qi={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};Ui.setTyped=function(e){e?(Ui.Buf8=Uint8Array,Ui.Buf16=Uint16Array,Ui.Buf32=Int32Array,Ui.assign(Ui,Pi)):(Ui.Buf8=Array,Ui.Buf16=Array,Ui.Buf32=Array,Ui.assign(Ui,qi))},Ui.setTyped(Ni);var Wi=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0},zi=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}(),Hi=function(e,t,n,r){var i=zi,o=r+n;e^=-1;for(var a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},$i=function(e,t){var n,r,i,o,a,s,u,l,f,c,d,h,p,g,b,y,m,w,v,_,S,k,E,x,T;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,l=n.wsize,f=n.whave,c=n.wnext,d=n.window,h=n.hold,p=n.bits,g=n.lencode,b=n.distcode,y=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;e:do{p<15&&(h+=x[r++]<<p,p+=8,h+=x[r++]<<p,p+=8),w=g[h&y];t:for(;;){if(h>>>=v=w>>>24,p-=v,0==(v=w>>>16&255))T[o++]=65535&w;else{if(!(16&v)){if(0==(64&v)){w=g[(65535&w)+(h&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&w,(v&=15)&&(p<v&&(h+=x[r++]<<p,p+=8),_+=h&(1<<v)-1,h>>>=v,p-=v),p<15&&(h+=x[r++]<<p,p+=8,h+=x[r++]<<p,p+=8),w=b[h&m];n:for(;;){if(h>>>=v=w>>>24,p-=v,!(16&(v=w>>>16&255))){if(0==(64&v)){w=b[(65535&w)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&w,p<(v&=15)&&(h+=x[r++]<<p,(p+=8)<v&&(h+=x[r++]<<p,p+=8)),(S+=h&(1<<v)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=v,p-=v,S>(v=o-a)){if((v=S-v)>f&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,E=d,0===c){if(k+=l-v,v<_){_-=v;do{T[o++]=d[k++]}while(--v);k=o-S,E=T}}else if(c<v){if(k+=l+c-v,(v-=c)<_){_-=v;do{T[o++]=d[k++]}while(--v);if(k=0,c<_){_-=v=c;do{T[o++]=d[k++]}while(--v);k=o-S,E=T}}}else if(k+=c-v,v<_){_-=v;do{T[o++]=d[k++]}while(--v);k=o-S,E=T}for(;_>2;)T[o++]=E[k++],T[o++]=E[k++],T[o++]=E[k++],_-=3;_&&(T[o++]=E[k++],_>1&&(T[o++]=E[k++]))}else{k=o-S;do{T[o++]=T[k++],T[o++]=T[k++],T[o++]=T[k++],_-=3}while(_>2);_&&(T[o++]=T[k++],_>1&&(T[o++]=T[k++]))}break}}break}}while(r<i&&o<s);r-=_=p>>3,h&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p},Vi=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Gi=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Zi=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Yi=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Ji=function(e,t,n,r,i,o,a,s){var u,l,f,c,d,h,p,g,b,y=s.bits,m=0,w=0,v=0,_=0,S=0,k=0,E=0,x=0,T=0,A=0,L=null,M=0,R=new Ui.Buf16(16),j=new Ui.Buf16(16),C=null,B=0;for(m=0;m<=15;m++)R[m]=0;for(w=0;w<r;w++)R[t[n+w]]++;for(S=y,_=15;_>=1&&0===R[_];_--);if(S>_&&(S=_),0===_)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(v=1;v<_&&0===R[v];v++);for(S<v&&(S=v),x=1,m=1;m<=15;m++)if(x<<=1,(x-=R[m])<0)return-1;if(x>0&&(0===e||1!==_))return-1;for(j[1]=0,m=1;m<15;m++)j[m+1]=j[m]+R[m];for(w=0;w<r;w++)0!==t[n+w]&&(a[j[t[n+w]]++]=w);if(0===e?(L=C=a,h=19):1===e?(L=Vi,M-=257,C=Gi,B-=257,h=256):(L=Zi,C=Yi,h=-1),A=0,w=0,m=v,d=o,k=S,E=0,f=-1,c=(T=1<<S)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){p=m-E,a[w]<h?(g=0,b=a[w]):a[w]>h?(g=C[B+a[w]],b=L[M+a[w]]):(g=96,b=0),u=1<<m-E,v=l=1<<k;do{i[d+(A>>E)+(l-=u)]=p<<24|g<<16|b|0}while(0!==l);for(u=1<<m-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,w++,0==--R[m]){if(m===_)break;m=t[n+a[w]]}if(m>S&&(A&c)!==f){for(0===E&&(E=S),d+=v,x=1<<(k=m-E);k+E<_&&!((x-=R[k+E])<=0);)k++,x<<=1;if(T+=1<<k,1===e&&T>852||2===e&&T>592)return 1;i[f=A&c]=S<<24|k<<16|d-o|0}}return 0!==A&&(i[d+A]=m-E<<24|64<<16|0),s.bits=S,0},Ki={},Xi=1,Qi=2,eo=0,to=-2,no=1,ro=852,io=592;function oo(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ao(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ui.Buf16(320),this.work=new Ui.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function so(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=no,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ui.Buf32(ro),t.distcode=t.distdyn=new Ui.Buf32(io),t.sane=1,t.back=-1,eo):to}function uo(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,so(e)):to}function lo(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?to:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,uo(e))):to}function fo(e,t){var n,r;return e?(r=new ao,e.state=r,r.window=null,(n=lo(e,t))!==eo&&(e.state=null),n):to}var co,ho,po=!0;function go(e){if(po){var t;for(co=new Ui.Buf32(512),ho=new Ui.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ji(Xi,e.lens,0,288,co,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ji(Qi,e.lens,0,32,ho,0,e.work,{bits:5}),po=!1}e.lencode=co,e.lenbits=9,e.distcode=ho,e.distbits=5}function bo(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Ui.Buf8(o.wsize)),r>=o.wsize?(Ui.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),Ui.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(Ui.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}Ki.inflateInit2=fo,Ki.inflate=function(e,t){var n,r,i,o,a,s,u,l,f,c,d,h,p,g,b,y,m,w,v,_,S,k,E,x,T=0,A=new Ui.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return to;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,f=n.bits,c=s,d=u,k=eo;e:for(;;)switch(n.mode){case no:if(0===n.wrap){n.mode=13;break}for(;f<16;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(2&n.wrap&&35615===l){n.check=0,A[0]=255&l,A[1]=l>>>8&255,n.check=Hi(n.check,A,2,0),l=0,f=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&l)){e.msg="unknown compression method",n.mode=30;break}if(f-=4,S=8+(15&(l>>>=4)),0===n.wbits)n.wbits=S;else if(S>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<S,e.adler=n.check=1,n.mode=512&l?10:12,l=0,f=0;break;case 2:for(;f<16;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(n.flags=l,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&(A[0]=255&l,A[1]=l>>>8&255,n.check=Hi(n.check,A,2,0)),l=0,f=0,n.mode=3;case 3:for(;f<32;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}n.head&&(n.head.time=l),512&n.flags&&(A[0]=255&l,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,n.check=Hi(n.check,A,4,0)),l=0,f=0,n.mode=4;case 4:for(;f<16;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&(A[0]=255&l,A[1]=l>>>8&255,n.check=Hi(n.check,A,2,0)),l=0,f=0,n.mode=5;case 5:if(1024&n.flags){for(;f<16;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&(A[0]=255&l,A[1]=l>>>8&255,n.check=Hi(n.check,A,2,0)),l=0,f=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Ui.arraySet(n.head.extra,r,o,h,S)),512&n.flags&&(n.check=Hi(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{S=r[o+h++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&h<s);if(512&n.flags&&(n.check=Hi(n.check,r,h,o)),s-=h,o+=h,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{S=r[o+h++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&h<s);if(512&n.flags&&(n.check=Hi(n.check,r,h,o)),s-=h,o+=h,S)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;f<16;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}l=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;f<32;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}e.adler=n.check=oo(l),l=0,f=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=f,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){l>>>=7&f,f-=7&f,n.mode=27;break}for(;f<3;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}switch(n.last=1&l,f-=1,3&(l>>>=1)){case 0:n.mode=14;break;case 1:if(go(n),n.mode=20,6===t){l>>>=2,f-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}l>>>=2,f-=2;break;case 14:for(l>>>=7&f,f-=7&f;f<32;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&l,l=0,f=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>u&&(h=u),0===h)break e;Ui.arraySet(i,r,o,h,a),s-=h,o+=h,u-=h,a+=h,n.length-=h;break}n.mode=12;break;case 17:for(;f<14;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(n.nlen=257+(31&l),l>>>=5,f-=5,n.ndist=1+(31&l),l>>>=5,f-=5,n.ncode=4+(15&l),l>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;f<3;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}n.lens[L[n.have++]]=7&l,l>>>=3,f-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},k=Ji(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,k){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(T=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,m=65535&T,!((b=T>>>24)<=f);){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(m<16)l>>>=b,f-=b,n.lens[n.have++]=m;else{if(16===m){for(x=b+2;f<x;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(l>>>=b,f-=b,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}S=n.lens[n.have-1],h=3+(3&l),l>>>=2,f-=2}else if(17===m){for(x=b+3;f<x;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}f-=b,S=0,h=3+(7&(l>>>=b)),l>>>=3,f-=3}else{for(x=b+7;f<x;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}f-=b,S=0,h=11+(127&(l>>>=b)),l>>>=7,f-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;h--;)n.lens[n.have++]=S}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,E={bits:n.lenbits},k=Ji(Xi,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,k){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},k=Ji(Qi,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,k){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(s>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=f,$i(e,d),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,l=n.hold,f=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;y=(T=n.lencode[l&(1<<n.lenbits)-1])>>>16&255,m=65535&T,!((b=T>>>24)<=f);){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(y&&0==(240&y)){for(w=b,v=y,_=m;y=(T=n.lencode[_+((l&(1<<w+v)-1)>>w)])>>>16&255,m=65535&T,!(w+(b=T>>>24)<=f);){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}l>>>=w,f-=w,n.back+=w}if(l>>>=b,f-=b,n.back+=b,n.length=m,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=12;break}if(64&y){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(x=n.extra;f<x;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(T=n.distcode[l&(1<<n.distbits)-1])>>>16&255,m=65535&T,!((b=T>>>24)<=f);){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(0==(240&y)){for(w=b,v=y,_=m;y=(T=n.distcode[_+((l&(1<<w+v)-1)>>w)])>>>16&255,m=65535&T,!(w+(b=T>>>24)<=f);){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}l>>>=w,f-=w,n.back+=w}if(l>>>=b,f-=b,n.back+=b,64&y){e.msg="invalid distance code",n.mode=30;break}n.offset=m,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(x=n.extra;f<x;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===u)break e;if(h=d-u,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=i,p=a-n.offset,h=n.length;h>u&&(h=u),u-=h,n.length-=h;do{i[a++]=g[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;i[a++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;f<32;){if(0===s)break e;s--,l|=r[o++]<<f,f+=8}if(d-=u,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?Hi(n.check,i,d,a-d):Wi(n.check,i,d,a-d)),d=u,(n.flags?l:oo(l))!==n.check){e.msg="incorrect data check",n.mode=30;break}l=0,f=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;f<32;){if(0===s)break e;s--,l+=r[o++]<<f,f+=8}if(l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}l=0,f=0}n.mode=29;case 29:k=1;break e;case 30:k=-3;break e;case 31:return-4;case 32:default:return to}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=l,n.bits=f,(n.wsize||d!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&bo(e,e.output,e.next_out,d-e.avail_out)?(n.mode=31,-4):(c-=e.avail_in,d-=e.avail_out,e.total_in+=c,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?Hi(n.check,i,d,e.next_out-d):Wi(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===c&&0===d||4===t)&&k===eo&&(k=-5),k)},Ki.inflateEnd=function(e){if(!e||!e.state)return to;var t=e.state;return t.window&&(t.window=null),e.state=null,eo},Ki.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?to:(n.head=t,t.done=!1,eo):to},Ki.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?to:11===n.mode&&Wi(1,t,r,0)!==n.check?-3:bo(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,eo):to};var yo={},mo=!0,wo=!0;try{String.fromCharCode.apply(null,[0])}catch(Ga){mo=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ga){wo=!1}for(var vo=new Ui.Buf8(256),_o=0;_o<256;_o++)vo[_o]=_o>=252?6:_o>=248?5:_o>=240?4:_o>=224?3:_o>=192?2:1;function So(e,t){if(t<65537&&(e.subarray&&wo||!e.subarray&&mo))return String.fromCharCode.apply(null,Ui.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}vo[254]=vo[254]=1,yo.string2buf=function(e){var t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Ui.Buf8(s),o=0,i=0;o<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},yo.binstring2buf=function(e){for(var t=new Ui.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},yo.buf2string=function(e,t){var n,r,i,o,a=t||e.length,s=new Array(2*a);for(r=0,n=0;n<a;)if((i=e[n++])<128)s[r++]=i;else if((o=vo[i])>4)s[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<a;)i=i<<6|63&e[n++],o--;o>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return So(s,r)},yo.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+vo[e[n]]>t?n:t};var ko={Z_NO_FLUSH:0,Z_SYNC_FLUSH:2,Z_FINISH:4,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_BUF_ERROR:-5},Eo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xo=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},To=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Ao={},Lo=Object.prototype.toString;function Mo(e){if(!(this instanceof Mo))return new Mo(e);this.options=Ui.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new xo,this.strm.avail_out=0;var n=Ki.inflateInit2(this.strm,t.windowBits);if(n!==ko.Z_OK)throw new Error(Eo[n]);this.header=new To,Ki.inflateGetHeader(this.strm,this.header)}function Ro(e,t){var n=new Mo(t);if(n.push(e,!0),n.err)throw n.msg||Eo[n.err];return n.result}Mo.prototype.push=function(e,t){var n,r,i,o,a,s,u=this.strm,l=this.options.chunkSize,f=this.options.dictionary,c=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?ko.Z_FINISH:ko.Z_NO_FLUSH,"string"==typeof e?u.input=yo.binstring2buf(e):"[object ArrayBuffer]"===Lo.call(e)?u.input=new Uint8Array(e):u.input=e,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new Ui.Buf8(l),u.next_out=0,u.avail_out=l),(n=Ki.inflate(u,ko.Z_NO_FLUSH))===ko.Z_NEED_DICT&&f&&(s="string"==typeof f?yo.string2buf(f):"[object ArrayBuffer]"===Lo.call(f)?new Uint8Array(f):f,n=Ki.inflateSetDictionary(this.strm,s)),n===ko.Z_BUF_ERROR&&!0===c&&(n=ko.Z_OK,c=!1),n!==ko.Z_STREAM_END&&n!==ko.Z_OK)return this.onEnd(n),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&n!==ko.Z_STREAM_END&&(0!==u.avail_in||r!==ko.Z_FINISH&&r!==ko.Z_SYNC_FLUSH)||("string"===this.options.to?(i=yo.utf8border(u.output,u.next_out),o=u.next_out-i,a=yo.buf2string(u.output,i),u.next_out=o,u.avail_out=l-o,o&&Ui.arraySet(u.output,u.output,i,o,0),this.onData(a)):this.onData(Ui.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(c=!0)}while((u.avail_in>0||0===u.avail_out)&&n!==ko.Z_STREAM_END);return n===ko.Z_STREAM_END&&(r=ko.Z_FINISH),r===ko.Z_FINISH?(n=Ki.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ko.Z_OK):r!==ko.Z_SYNC_FLUSH||(this.onEnd(ko.Z_OK),u.avail_out=0,!0)},Mo.prototype.onData=function(e){this.chunks.push(e)},Mo.prototype.onEnd=function(e){e===ko.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ui.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},Ao.inflateRaw=function(e,t){return(t=t||{}).raw=!0,Ro(e,t)};var jo={};(function(e,t){var n=Ao.inflateRaw;jo=function(r,i){e.nextTick(function(){try{i(null,t.from(n(r)))}catch(Va){i(Va)}})}}).call(this,ke,g({}).Buffer);var Co=ji.Buffer,Bo=function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r=[]);var i=function(e,t){var n=Co.isBuffer(e)?{buf:e,offset:0}:e;return i.read(n,t)};Object.keys(t).forEach(function(e){i[e]=t[e]}),i.$structType=!0;var o=t.read.bind(i);if(i.read=function(e,t){for(var r=o(e,t),a=0,s=n.length;a<s;a++)r=n[a].call(i,r);return r},null==i.write)i.write=function(){throw new Error("unimplemented")};else{var a=t.write.bind(i);i.write=function(e,t){for(var n=t,o=r.length-1;o>=0;o--)n=r[o].call(i,n,e);return a(e,n)}}return i.transform=i.mapRead=function(i){return e(t,n.concat([i]),r)},i.mapWrite=function(i){return e(t,n,r.concat([i]))},i.map=function(i,o){return e(t,i?n.concat([i]):n,o?r.concat([o]):r)},null==i.size?i.size=function(){throw new Error("unimplemented")}:"number"==typeof i.size&&(i.size=function(){return t.size}),i.encode=function e(t,n,r){r||(r=0),n||(n=Co.alloc(i.size(t)));var o={buf:n,offset:r};return i.write(o,t),e.bytes=o.offset-r,o.buf},i.decode=function e(t,n,r){n||(n=0);var o={buf:t,offset:n},a=i.read(o,void 0);return e.bytes=o.offset-n,a},i.encodingLength=i.size,i},Oo=function(e,t){if("string"==typeof t){for(;0===t.indexOf("../");){if(null===e.$parent)throw new Error("cannot access nonexistent parent");e=e.$parent,t=t.substr(3)}return Vn(e,t)}return"function"==typeof t?t.call(e,e):t},Io=ji.Buffer;function Do(e){if(e.read&&e.write&&null!=e.size)return e.$structType?e:Bo(e);if(e.encode&&e.decode)return function(e){return Bo({read:function(t){var n=e.decode(t.buf,t.offset);return t.offset+=e.decode.bytes,n},write:function(t,n){e.encode(n,t.buf,t.offset),t.offset+=e.encode.bytes},size:e.encodingLength})}(e);if(ea[e])return ea[e];throw new Error('no such type: "'+e+'"')}var Uo=function(e,t,n){return Bo({read:function(n){var r=n.buf[t](n.offset);return n.offset+=e,r},write:function(t,r){t.buf[n](r,t.offset),t.offset+=e},size:e})},No=Uo(1,"readInt8","writeInt8"),Fo=Uo(1,"readUInt8","writeUInt8"),Po=Uo(2,"readInt16LE","writeInt16LE"),qo=Uo(2,"readUInt16LE","writeUInt16LE"),Wo=Uo(4,"readInt32LE","writeInt32LE"),zo=Uo(4,"readUInt32LE","writeUInt32LE"),Ho=Uo(4,"readFloatLE","writeFloatLE"),$o=Uo(8,"readDoubleLE","writeDoubleLE"),Vo=Uo(2,"readInt16BE","writeInt16BE"),Go=Uo(2,"readUInt16BE","writeUInt16BE"),Zo=Uo(4,"readInt32BE","writeInt32BE"),Yo=Uo(4,"readUInt32BE","writeUInt32BE"),Jo=Uo(4,"readFloatBE","writeFloatBE"),Ko=Uo(8,"readDoubleBE","writeDoubleBE"),Xo=function(e,t){return void 0===t&&(t="utf8"),Bo({read:function(n){var r=Oo(n.struct,e),i=n.buf.toString(t,n.offset,n.offset+r);return n.offset+=r,i},write:function(n,r){var i=Oo(n.struct,e);if(r.length!==i)throw new Error("cannot write incorrect string size, expected "+i+", got "+r.length);n.buf.write(r,n.offset,i,t),n.offset+=i},size:function(t,n){return Oo(n,e)}})},Qo=function(e,t){var n;return t=Do(t),Bo({read:function(r,i){return Oo(r.struct,e)?t.read(r,i):n?n.read(r,i):void 0},write:function(r,i){if(Oo(r.struct,e))t.write(r,i);else if(n)return n.write(r,i)},size:function(n,r){return Oo(r,e)?t.size(n,r):0},else:function(e){return n=Do(e),this}})},ea={int8:No,uint8:Fo,bool:Bo({read:function(e){var t=0!==e.buf[e.offset];return e.offset++,t},write:function(e,t){e.buf[e.offset]=t?1:0,e.offset++},size:1}),int16:Po,uint16:qo,int16be:Vo,uint16be:Go,int32:Wo,uint32:zo,int32be:Zo,uint32be:Yo,float:Ho,floatbe:Jo,double:$o,doublebe:Ko,char:Xo,string:Xo,dynstring:function(e,t){void 0===t&&(t="utf8");var n=Do(e);return Bo({read:function(e,r){var i=n.read(e,r),o=e.buf.toString(t,e.offset,e.offset+i);return e.offset+=i,o},write:function(e,r){n.write(e,r.length),e.buf.write(r,e.offset,r.length,t),e.offset+=r.length},size:function(e,t){return n.size(e.length,t)+e.length}})},array:function(e,t){var n=Do(t);return Bo({read:function(t,r){for(var i=Oo(t.struct,e),o=[],a=0;a<i;a++)o.push(n.read(t,r));return o},write:function(t,r){var i=Oo(t.struct,e);if(r.length!==i)throw new Error("cannot write incorrect array length, expected "+i+", got "+r.length);for(var o=0;o<i;o++)n.write(t,r[o])},size:function(e,t){return e.reduce(function(e,r){return e+n.size(r,t)},0)}})},dynarray:function(e,t){var n=Do(e),r=Do(t);return Bo({read:function(e,t){for(var i=n.read(e,t),o=[],a=0;a<i;a++)o.push(r.read(e,t));return o},write:function(e,t){n.write(e,t.length);for(var i=0;i<t.length;i++)r.write(e,t[i])},size:function(e,t){return e.reduce(function(e,n){return e+r.size(n,t)},n.size(e.length,t))}})},buffer:function(e){return Bo({read:function(t){var n=Oo(t.struct,e),r=Io.alloc(n);return t.buf.copy(r,0,t.offset,t.offset+n),t.offset+=n,r},write:function(t,n){if(!Io.isBuffer(n)){var r=Object.prototype.toString.call(null).replace(/^\[object (.+)]$/,"$1");throw new Error("cannot write value of incorrect type, expected Buffer, got "+r)}var i=Oo(t.struct,e),o=Math.min(n.length,i);n.copy(t.buf,t.offset,0,o),t.buf.fill(0,t.offset+o,t.offset+i),t.offset+=i},size:function(t){return Oo(t,e)}})},when:Qo,if:Qo,skip:function(e){return Bo({read:function(t,n){t.offset+=Oo(n,e)},write:function(t,n){t.offset+=Oo(n,e)},size:function(t){return Oo(t,e)}})}},ta={types:ea,getType:Do},na={},ra=ta.types,ia=ta.getType;function oa(e){var t;t=Array.isArray(e)?e.map(function(e){return Array.isArray(e)?[e[0],ia(e[1])]:[null,ia(e)]}):e?Object.keys(e).map(function(t){return[t,ia(e[t])]}):[];var n=Bo({read:function(e,n){var r={},i={struct:r,buf:e.buf,offset:e.offset||0,parent:n||null};return r.$parent=n||null,t.forEach(function(e){var t=e[0],n=e[1].read(i,r);null!==t?r[t]=n:"object"==typeof n&&Object.assign(r,n)}),e.offset=i.offset,delete r.$parent,r},write:function(e,n){var r=Object.assign({},e,{struct:n,parent:n.$parent});t.forEach(function(e){var t=e[0],i=e[1];if(null!==t){var o=n[t];"object"!=typeof o||Array.isArray(o)||(o.$parent=n),i.write(r,o)}else i.write(r,n)}),e.offset=r.offset},size:function(e){return t.reduce(function(t,n){var r=n[0];return t+n[1].size(null!==r?e[r]:e,e)},0)}});return n.field=function(e,r){return"object"==typeof e?t.push([null,ia(e)]):t.push([e,ia(r)]),n},n}oa.default=oa,oa.Struct=oa,oa.Type=Bo,oa.types=ra,oa.getValue=Oo,oa.getType=ia;var aa,sa=(na=oa).types,ua=1,la=na([["version",sa.string(4)],["headerLength",sa.uint32],sa.skip(4),["timestamp",sa.uint32],["instructions",sa.dynstring(sa.uint32)],sa.skip(4),["numPlayers",sa.uint32]]),fa=na([["active",sa.uint32],["human",sa.uint32],["civilization",sa.uint32],sa.skip(4)]),ca=na([["nextObjectId",sa.uint32],["version",sa.float],["playerNames",sa.array(16,sa.string(256).map(function(e){return e.replace(/\0+$/,"")},(256,function(e){return e+"\0".repeat(256-e.length)})))],["playerNameIds",sa.array(16,sa.int32)],["playerMetas",sa.array(16,fa)],sa.skip(4),sa.skip(1),sa.skip(4),["filename",sa.dynstring(sa.uint16)]]),da=na([["state",sa.uint32],["width",sa.int32],["height",sa.int32],sa.skip(2),sa.if(function(e){return e.width>0&&e.height>0},na([["header",na([["fileSize",sa.uint32],["reserved",sa.uint32],["offset",sa.int32],["headerSize",sa.uint32],["width",sa.uint32],["height",sa.int32],["planes",sa.int16],["bitPP",sa.uint16],["compress",sa.uint32],["rawSize",sa.uint32],["hr",sa.uint32],["vr",sa.uint32],["colors",sa.uint32],["importantColors",sa.uint32],sa.if(function(e){return e.bitPP<15},na([["palette",sa.array(function(e){return 0===e.$parent.colors?1<<e.$parent.bitPP:e.$parent.colors},na([["red",sa.uint8],["green",sa.uint8],["blue",sa.uint8],["quad",sa.uint8]]))]]))])]]))]),ha=na([["instructionsId",sa.int32],["hintsId",sa.int32],["victoryId",sa.int32],["lossId",sa.int32],["historyId",sa.int32],sa.if(function(){return ua>=1.22},na([["scoutsId",sa.int32]])),["instructions",sa.dynstring(sa.uint16)],["hints",sa.dynstring(sa.uint16)],["victory",sa.dynstring(sa.uint16)],["loss",sa.dynstring(sa.uint16)],["history",sa.dynstring(sa.uint16)],sa.if(function(){return ua>=1.22},na([["scouts",sa.dynstring(sa.uint16)]])),["pregameFilename",sa.dynstring(sa.uint16)],["victoryFilename",sa.dynstring(sa.uint16)],["lossFilename",sa.dynstring(sa.uint16)],["backgroundFilename",sa.dynstring(sa.uint16)],["picture",da]]),pa=na([["aiNames",sa.array(16,sa.dynstring(sa.uint16))],["ctyNames",sa.array(16,sa.dynstring(sa.uint16))],["perNames",sa.array(16,sa.dynstring(sa.uint16))],["aiFiles",sa.array(16,na([["aiLength",sa.uint32],["ctyLength",sa.uint32],["perLength",sa.uint32],["ai",sa.string("aiLength")],["cty",sa.string("ctyLength")],["per",sa.string("perLength")]]))],["aiTypes",sa.array(16,sa.uint8)],sa.skip(4),["resources",sa.array(16,na([["gold",sa.uint32],["wood",sa.uint32],["food",sa.uint32],["stone",sa.uint32],["ore",sa.uint32],["goods",sa.uint32]]))]]),ga=na([sa.skip(4),["conquest",sa.uint32],sa.skip(4),["relics",sa.uint32],sa.skip(4),["exploration",sa.uint32],sa.skip(4),["allConditions",sa.uint32],sa.if(function(){return ua>=1.13},na([["mode",sa.uint32],["score",sa.uint32],["time",sa.uint32]]))]),ba=na([["diplomacy",sa.array(16,sa.array(16,sa.uint32))],sa.skip(11520),sa.skip(4),["alliedVictory",sa.array(16,sa.uint32)]]),ya=na([["disabledTechCount",sa.array(16,sa.int32)],["disabledTechIds",sa.array(16,sa.array(function(){return ua>=1.3?60:30},sa.int32))],["disabledUnitCount",sa.array(16,sa.int32)],["disabledUnitIds",sa.array(16,sa.array(function(){return ua>=1.3?60:30},sa.int32))],["disabledBuildingCount",sa.array(16,sa.int32)],["disabledBuildingIds",sa.array(16,sa.array(function(){return ua>=1.3?60:20},sa.int32))],sa.skip(4),sa.skip(4),["allTechs",sa.int32],["startingAge",sa.array(16,sa.int32)]]),ma=na([sa.skip(4),["camera",na([["x",sa.int32],["y",sa.int32]])],["mapType",sa.int32],["width",sa.uint32],["height",sa.uint32],["tiles",sa.array("height",sa.array("width",na([["terrain",sa.uint8],["elevation",sa.uint8],["zone",sa.uint8]])))]]),wa=na([["objectsCount",sa.uint32],["objects",sa.array("objectsCount",na([["x",sa.float],["y",sa.float],["z",sa.float],["id",sa.int32],["type",sa.int16],["state",sa.uint8],["angle",sa.float],["frame",sa.int16],["garrisonedIn",sa.int32]]))]]).map(function(e){return e.objects},function(e){return{objects:e,objectsCount:e.length}}),va=na([["playerCount",sa.uint32],["playerResources",sa.array(8,na([["food",sa.float],["wood",sa.float],["gold",sa.float],["stone",sa.float],["ore",sa.float],["goods",sa.float],["population",sa.float]]))],["playerObjects",sa.array("playerCount",wa)]]),_a=na([["version",sa.float],["conditionsCount",sa.int32],["unknown",sa.int8],["conditions",sa.array("conditionsCount",na([sa.skip(44)]))],sa.if(function(e){return e.version>=1},na([sa.skip(4),["count",sa.int32],sa.if(function(e){return e.$parent.version>=2},sa.skip(8)),sa.skip(function(e){return e.count*(e.$parent.version>=2?32:24)})]))]),Sa=na([["name",sa.dynstring(sa.uint16)],["viewX",sa.float],["viewY",sa.float],["terrainX",sa.int16],["terrainY",sa.int16],["alliedVictory",sa.bool],["diploCount",sa.int16],["diplo1",sa.array("diploCount",sa.int8)],["diplo2",sa.array("diploCount",sa.int32)],sa.if(function(){return ua>=1.13},na([["color",sa.int32]])),["victory",_a]]),ka=na([["playerCount",sa.uint32],["data",sa.array(8,Sa)]]),Ea=na([["type",sa.int32],["check",sa.int32],["aiGoal",sa.int32],["amount",sa.int32],["resource",sa.int32],["diplomacy",sa.int32],["selectedCount",sa.int32],["locationUnitId",sa.int32],["unitType",sa.int32],["sourcePlayer",sa.int32],["targetPlayer",sa.int32],["technology",sa.int32],["stringId",sa.int32],["unk",sa.int32],["displayTime",sa.int32],["targetTrigger",sa.int32],["location",na({x:sa.int32,y:sa.int32})],["area",na([["bottomLeftX",sa.int32],["bottomLeftY",sa.int32],["topRightX",sa.int32],["topRightY",sa.int32]])],["unitGroup",sa.int32],["unitType",sa.int32],["instructionPanel",sa.int32],["text",sa.dynstring(sa.int32)],["soundFile",sa.dynstring(sa.int32)],["unitIds",sa.array(function(e){return e.selectedCount},sa.int32)]]),xa=na([["type",sa.int32],["check",sa.int32],["amount",sa.int32],["resource",sa.int32],["unitId",sa.int32],["locationUnitId",sa.int32],["unitType",sa.int32],["player",sa.int32],["technology",sa.int32],["timer",sa.int32],["unknown",sa.int32],["area",na([["bottomLeftX",sa.int32],["bottomLeftY",sa.int32],["topRightX",sa.int32],["topRightY",sa.int32]])],["unitGroup",sa.int32],["unitType",sa.int32],["aiSignal",sa.int32]]),Ta=na([["enabled",sa.int32],["looping",sa.bool],["nameId",sa.int32],["isObjective",sa.bool],["objectiveOrder",sa.int32],["startTime",sa.int32],["description",sa.dynstring(sa.int32)],["name",sa.dynstring(sa.int32)],["effects",sa.dynarray(sa.int32,Ea)],["effectOrder",sa.array(function(e){return e.effects.length},sa.int32)],["conditions",sa.dynarray(sa.int32,xa)],["conditionOrder",sa.array(function(e){return e.conditions.length},sa.int32)]]),Aa={PreHeader:la,CompressedHeader:ca,Messages:ha,PlayerData:pa,GlobalVictory:ga,Diplomacy:ba,TechTree:ya,MapData:ma,TribePlayerData:va,MorePlayerData:ka,Triggers:na([["version",sa.double],sa.if(function(e){return e.version>=1.5},na([["objectivesState",sa.int8]])),["triggers",sa.dynarray(sa.int32,Ta)],["triggerOrder",sa.array(function(e){return e.triggers.length},sa.int32)]]),Scripts:na([["hasScripts",sa.int32],["hasError",sa.int32],sa.if("hasError",na([["error",sa.string(396)]])),sa.if("hasScripts",na([["scripts",sa.dynarray(sa.int32,na([["filename",sa.dynstring(sa.int32)],["data",sa.dynstring(sa.int32)]]))]]))]),version:function(e){ua=e}},La=ji.Buffer,Ma=Aa.version,Ra=Aa.PreHeader,ja=Aa.CompressedHeader,Ca=Aa.Messages,Ba=Aa.PlayerData,Oa=Aa.GlobalVictory,Ia=Aa.Diplomacy,Da=Aa.TechTree,Ua=Aa.MapData,Na=Aa.TribePlayerData,Fa=Aa.MorePlayerData,Pa=Aa.Triggers,qa=Aa.Scripts,Wa=function(e){"string"==typeof e?this.path=e:La.isBuffer(e)&&(this.buffer=e)};Wa.prototype.open=function(e){var t=this;Di.readFile(this.path,function(n,r){if(n)return e(n);t.buffer=r,e(null)})},Wa.prototype.parse=function(e){var t=this;if(!this.buffer)return this.open(function(n){n?e(n):t.parse(e)});var n=Ra(this.buffer);jo(this.buffer.slice(8+n.headerLength),function(t,r){if(t)return e(t);var i={buf:r,offset:0},o=ja(i);Ma(o.version);var a=Ca(i),s=Ba(i),u=Oa(i),l=Ia(i),f=Da(i),c=Ua(i),d=Na(i),h=Fa(i),p=Pa(i),g=qa(i);e(null,{pre:n,header:o,messages:a,playerData:s,victory:u,diplomacy:l,techTree:f,map:c,tribePlayerData:d,morePlayerData:h,triggers:p,scripts:g})})},aa=function(e){return new Wa(e)};var za={};(function(e){za=((t,n)=>{t.drs=null,t.viewing=null,t.palette=_i("JASC-PAL\r\n0100\r\n256\r\n0 0 0\r\n0 74 161\r\n0 97 155\r\n0 74 187\r\n0 84 176\r\n0 90 184\r\n0 110 176\r\n0 110 187\r\n180 255 180\r\n0 98 210\r\n0 0 0\r\n47 47 47\r\n200 216 255\r\n87 87 87\r\n37 16 6\r\n47 26 17\r\n0 0 82\r\n0 21 130\r\n19 49 161\r\n48 93 182\r\n74 121 208\r\n110 166 235\r\n151 206 255\r\n205 250 255\r\n64 43 23\r\n67 51 27\r\n70 32 6\r\n75 57 42\r\n84 64 43\r\n87 69 37\r\n87 57 27\r\n94 74 48\r\n65 0 0\r\n105 11 0\r\n160 21 0\r\n230 11 0\r\n255 0 0\r\n255 100 100\r\n255 160 160\r\n255 220 220\r\n97 77 67\r\n103 58 21\r\n113 75 51\r\n113 75 13\r\n115 105 84\r\n125 97 72\r\n125 74 0\r\n129 116 95\r\n0 0 0\r\n0 7 0\r\n0 32 0\r\n0 59 0\r\n0 87 0\r\n0 114 0\r\n0 141 0\r\n0 169 0\r\n134 126 118\r\n135 64 0\r\n136 108 79\r\n144 100 12\r\n146 125 105\r\n153 106 55\r\n159 121 88\r\n166 74 0\r\n80 51 26\r\n140 78 9\r\n191 123 0\r\n255 199 0\r\n255 247 37\r\n255 255 97\r\n255 255 166\r\n255 255 227\r\n167 135 102\r\n172 144 115\r\n175 126 36\r\n175 151 128\r\n185 151 146\r\n186 166 135\r\n187 84 0\r\n187 156 125\r\n110 23 0\r\n150 36 0\r\n210 55 0\r\n255 80 0\r\n255 130 1\r\n255 180 21\r\n255 210 75\r\n255 235 160\r\n189 150 111\r\n191 169 115\r\n195 174 156\r\n196 170 146\r\n196 128 88\r\n196 166 135\r\n197 187 176\r\n204 160 36\r\n0 16 16\r\n0 37 41\r\n0 80 80\r\n0 120 115\r\n0 172 150\r\n38 223 170\r\n109 252 191\r\n186 255 222\r\n206 169 133\r\n207 105 12\r\n207 176 156\r\n228 162 82\r\n215 186 155\r\n216 162 121\r\n217 114 24\r\n223 234 255\r\n47 0 46\r\n79 0 75\r\n133 12 121\r\n170 47 155\r\n211 58 201\r\n241 108 232\r\n255 169 255\r\n255 210 255\r\n218 156 105\r\n222 177 136\r\n225 177 90\r\n226 195 170\r\n232 180 120\r\n235 202 181\r\n235 216 190\r\n237 199 165\r\n28 28 28\r\n67 67 67\r\n106 106 106\r\n145 145 145\r\n185 185 185\r\n223 223 223\r\n247 247 247\r\n255 255 255\r\n247 211 191\r\n248 201 138\r\n255 206 157\r\n255 225 201\r\n255 238 217\r\n255 226 161\r\n216 223 255\r\n255 255 243\r\n24 24 0\r\n37 37 17\r\n27 47 0\r\n47 57 17\r\n67 77 7\r\n77 77 47\r\n44 77 3\r\n94 84 53\r\n95 97 39\r\n97 97 67\r\n67 97 29\r\n106 115 57\r\n116 115 75\r\n87 116 7\r\n118 130 65\r\n130 136 77\r\n138 139 87\r\n148 155 100\r\n156 156 139\r\n128 157 84\r\n149 166 97\r\n175 165 106\r\n176 176 159\r\n146 176 67\r\n194 190 148\r\n165 196 108\r\n166 196 77\r\n206 187 128\r\n206 204 155\r\n204 217 77\r\n221 218 166\r\n196 226 116\r\n243 170 92\r\n3 28 0\r\n7 38 0\r\n7 47 7\r\n19 48 0\r\n27 57 17\r\n47 57 47\r\n28 62 0\r\n14 68 14\r\n41 69 28\r\n33 73 18\r\n47 87 47\r\n77 97 57\r\n67 97 67\r\n87 116 77\r\n70 119 48\r\n189 209 253\r\n106 136 97\r\n196 236 166\r\n23 53 33\r\n43 84 64\r\n37 116 57\r\n23 43 53\r\n2 33 53\r\n2 23 53\r\n33 64 64\r\n0 34 97\r\n0 51 115\r\n43 64 74\r\n0 43 74\r\n4 6 9\r\n0 123 189\r\n64 84 84\r\n0 115 207\r\n23 23 74\r\n12 23 64\r\n255 177 98\r\n0 64 125\r\n2 23 84\r\n0 138 186\r\n64 105 105\r\n0 146 197\r\n94 105 105\r\n0 74 125\r\n0 125 207\r\n95 133 65\r\n84 115 125\r\n64 105 125\r\n0 64 146\r\n0 53 135\r\n115 156 156\r\n84 146 176\r\n146 176 187\r\n255 201 121\r\n105 166 197\r\n125 197 217\r\n156 197 217\r\n109 126 33\r\n113 153 36\r\n21 118 21\r\n51 151 39\r\n70 181 59\r\n89 223 89\r\n131 245 120\r\n152 192 240\r\n0 255 0\r\n0 0 255\r\n255 255 0\r\n255 217 0\r\n240 240 255\r\n240 247 255\r\n247 247 255\r\n247 255 255\r\n85 119 52\r\n129 151 49\r\n0 255 255\r\n255 0 255\r\n0 139 210\r\n0 160 243\r\n255 255 255\r\n"),t.palette.id=50500,t.slpPlayer=1,n.on("pushState",e=>{window.location.hash=e}),window.addEventListener("hashchange",e=>{if(/#palette$/.test(e.newURL))return n.emit("viewPalette",t.palette);const r=/#([a-z]+)\/(\d+)$/.exec(e.newURL);if(r)return n.emit("view",parseInt(r[2],10));t.viewing=null,t.fileBuffer=null,t.fileType=null,t.fileData=null,t.fileURL=null}),n.on("drsFile",e=>{t.file=e,t.drs=si(e),t.tableStates=Object.create(null),t.drs.read(()=>{n.emit("render")})}),n.on("usePalette",e=>{t.palette=e,n.emit("render")}),n.on("slpFrame",e=>{t.fileData instanceof Ri&&(t.currentSlpFrame=e,n.emit("render"))}),n.on("slpPlayer",e=>{t.slpPlayer=e,n.emit("render")}),n.on("collapseDrsTable",({table:e,value:r})=>{t.tableStates[e]=r,n.emit("render")}),n.on("view",e=>{const r=t.drs.getFile(e);t.viewing!==r&&(t.viewing=r,t.fileBuffer=null,t.fileType=null,t.fileData=null,t.fileURL=null,t.drs.readFile(e,(i,o)=>{if(i)throw i;if(t.viewing===r){if(t.fileBuffer=o,"bina"===r.type){if(function(e){return!(!e||e.length<2)&&66===e[0]&&77===e[1]}(o)){t.fileType="bmp";const e=new Blob([o.buffer],{type:"image/bmp"});t.fileData=URL.createObjectURL(e),t.fileURL=t.fileData}else!function(e){return"JASC-PAL"===e.toString("ascii",0,8)}(o)?function(e){return-1!==e.indexOf("background1_files")}(o)?t.fileType="interface":function(e){return-1!==e.indexOf("<TERRAIN_GENERATION>")||-1!==e.indexOf("#const ")}(o)?t.fileType="rms":function(e){return-1!==e.indexOf("(defrule")||(-1!==e.indexOf("(defconst")||-1!==e.indexOf("#load-if-defined"))}(o)?t.fileType="ai":function(e){const t=e.toString("ascii",0,8),n=e.readUInt32LE(4),r=e.readUInt32LE(16);return isFinite(parseFloat(t))&&n===r+20}(o)?(t.fileType="scx",aa(o).parse((e,r)=>{if(e)throw e;t.fileData=r;const i=new Blob([o.buffer],{type:"application/octet-stream"});t.fileURL=URL.createObjectURL(i),n.emit("render")})):t.fileType="text":(t.fileType="palette",t.fileData=_i(o),t.fileData.id=e);if("bmp"!==t.fileType){const e=new Blob([o.buffer],{type:"text/plain"});t.fileURL=URL.createObjectURL(e)}}else if("slp "===r.type){t.fileType="slp";const e=new Blob([o.buffer],{type:"application/octet-stream"});t.fileURL=URL.createObjectURL(e),t.fileData=Ri(o),t.fileData.parseHeader(),t.currentSlpFrame=0}else if("wav "===r.type){t.fileType="wav";const e=new Blob([o.buffer],{type:"audio/wav"});t.fileURL=URL.createObjectURL(e),t.fileData=new Audio(t.fileURL)}n.emit("render")}}),n.emit("render"))}),n.on("viewPalette",r=>{const i=r.toString();t.viewing={id:r.id,type:"bina",size:i.length,offset:-1};const o=new Blob([i],{type:"text/plain"});t.fileURL=URL.createObjectURL(o),t.fileType="palette",t.fileBuffer=e.from(i,"ascii"),t.fileData=r,n.emit("render")})})}).call(this,g({}).Buffer);const Ha=I();Ha.use(za),Ha.view(function(e,t){let n;return function(){var e=y({}),t=document.createElement("body");return t.setAttribute("class","ma0 sans-serif"),e(t,["\n      ",arguments[0],"\n    "]),t}(n=e.drs?function(e,t){return function(){var e=y({}),t=document.createElement("div");t.setAttribute("class",arguments[3]);var n=document.createElement("div");n.setAttribute("class","file-list fl vh-100 pa2 w5");var r=document.createElement("h1");r.setAttribute("class","ma0 mb2 f5 b"),e(r,["genie explorer"]);var i=document.createElement("hr");i.setAttribute("class","bb bw1");var o=document.createElement("p");o.setAttribute("class","ma0 mb2 code");var a=document.createElement("a");a.setAttribute("href","https://github.com/goto-bus-stop/genie-explorer/tree/default/LICENSE.md"),a.setAttribute("target","_blank"),e(a,["GPLv3 license"]),e(o,["\n          genie-explorer is available under the ",a,".\n        "]);var s=document.createElement("p");s.setAttribute("class","ma0 mb2 code");var u=document.createElement("a");u.setAttribute("href","https://github.com/goto-bus-stop/genie-explorer"),u.setAttribute("target","_blank"),e(u,["github"]),e(s,["\n          source: ",u,"\n        "]),e(n,["\n        ",r,"\n\n        ",arguments[0],"\n        ",arguments[1],"\n\n        ",i,"\n\n        ",o,"\n        ",s,"\n      "]);var l=document.createElement("div");return l.setAttribute("class","viewer vh-100 bg-light-gray"),e(l,["\n        ",arguments[2],"\n      "]),e(t,["\n      ",n,"\n      ",l,"\n    "]),t}(ft.render({onselect:function(e){t("drsFile",e)},file:e.file}),lt.render({drs:e.drs,tableStates:e.tableStates,selected:e.viewing&&e.viewing.id,emit:t}),e.viewing?ut(e,t):(n=y({}),(r=document.createElement("p")).setAttribute("class","pa2 ma0"),n(r,["\n      Select a file to the left\n    "]),r),"_c15e63f3");var n,r}(e,t):function(e,t){return function(){var e=y({}),t=document.createElement("div");t.setAttribute("class","flex flex-column justify-center items-center vw-100 vh-100 bg-light-gray");var n=document.createElement("h1");e(n,["genie explorer"]);var r=document.createElement("div");r.setAttribute("style","max-width: 700px"),r.setAttribute("class","pa4 bg-white shadow-2");var i=document.createElement("p");e(i,["\n          genie explorer is a web based tool to view Age of Empires .drs file contents.\n        "]);var o=document.createElement("p"),a=document.createElement("a");a.setAttribute("href","https://github.com/goto-bus-stop/genie-explorer/tree/default/LICENSE.md"),a.setAttribute("target","_blank"),e(a,["GPLv3"]);var s=document.createElement("a");s.setAttribute("href","https://github.com/goto-bus-stop/genie-explorer"),s.setAttribute("target","_blank"),e(s,["goto-bus-stop/genie-explorer"]),e(o,["\n          genie-explorer is built on various open source tools, and is itself licensed under the ",a,".\n          See its Github page: ",s,".\n        "]);var u=document.createElement("p");e(u,["Select a .drs file:"]);var l=document.createElement("input");return l.setAttribute("type","file"),l.setAttribute("accept",".drs"),l.onchange=arguments[0],e(r,["\n        ",i,"\n\n        ",arguments[1],"\n\n        ",o,"\n\n        ",u,"\n        ",l,"\n      "]),e(t,["\n      ",n,"\n\n      ",r,"\n    "]),t}(function(e){t("drsFile",e.target.files[0])},"file:"===location.protocol?null:function(){var e=y({}),t=document.createElement("p"),n=document.createElement("a");return n.setAttribute("href",arguments[0]),n.setAttribute("download","genie-explorer.html"),e(n,["click here"]),e(t,['\n            It is a single HTML file, so you can store it on your computer using right-click \xbb "Save this Page" and open the HTML file in your browser to use it offline, or you can ',n," to download it.\n          "]),t}(location.href))}(0,t))}),Ha.mount("body")}();</script>
</html>
